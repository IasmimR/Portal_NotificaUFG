define.experiment.component("Editor.wysiwyg.viewer.components.WRichText.MobileTextBrightness",function(a,b){var c=a,d=b;c.methods({_setMobileComponentAppearance:d.before(function(){this._scalingModifier.calculateMostCommonTextSize()}),getMostCommonTextSizeBeforeScaling:function(){return W.Utils.mobile.getMobileFontSize(this._scalingModifier.getMostCommonTextSizeBeforeScaling())},normalizeScaleIfNeeded:function(a){var b=this.getMostCommonTextSizeBeforeScaling(),c=Math.round(b*a);return c/b}})}),define.experiment.component("Editor.wysiwyg.viewer.components.WRichText.NBC_WRichText",function(a,b){var c=a,d=b;c.statics({EDITOR_META_DATA:{general:{settings:!0,design:!1},custom:[{label:"EDIT_RICH_TEXT",command:"EditorUI.StartEditRichText"}],mobile:{isTextScalable:!0,previewTextDataField:"text",disablePropertySplit:!0}}}),c.methods({initialize:d.after(function(){this._isDuringWidthResize=!1,this.on("resizeStart",this,function(a){("right"===a.data.resizeType||"left"===a.data.resizeType)&&(this._isDuringWidthResize=!0,this.setHeight(5,!0))}),this.on("resizeEnd",this,function(){this._isDuringWidthResize&&(this._isDuringWidthResize=!1,this._setSizeToMeasuredSize())})}),_onRender:d.before(function(a){var b=a.data.invalidations;b.isInvalidated([this.INVALIDATIONS.MEASURED_SIZE_DIFFERS_FROM_REQUESTED])&&this._setSizeToMeasuredSize()}),_mobileUpdatesForEditor:function(a){this.hasDataReallyBeenInvalidated(a)&&this._scalingModifier&&this._scalingModifier.calculateMostCommonTextSize()},_updateMobileScaling:d.after(function(a){var b=!1;a&&(b=a.newValue<a.oldValue),b&&this._updateComponentHeightAccordingToTextEffectiveHeight()}),_setSizeToMeasuredSize:function(){if(!this._isDuringWidthResize){var a=this.getMeasure();this.setHeight(a.height,!0),this.setWidth(a.width,!0)}},getMostCommonTextSizeBeforeScaling:function(){return W.Utils.mobile.getMobileFontSize(this._scalingModifier.getMostCommonTextSizeBeforeScaling())},normalizeScaleIfNeeded:function(a){var b=this.getMostCommonTextSizeBeforeScaling(),c=Math.round(b*a);return c/b},setIsPropertiesSavedInServer:function(){var a=this._properties.get("id").contains(Constants.ViewerTypesParams.DOM_ID_PREFIX.MOBILE);this._properties.setMeta("isPersistent",a)},_updateComponentHeightAccordingToTextEffectiveHeight:function(){var a=this._scalingModifier.getEffectiveTextHeight(this);this.setHeight(a)}})}),define.experiment.component("wysiwyg.viewer.components.ClipArt.ClipArtAspectRatio",function(a){a.methods({initialize:function(a,b,c){this.parent(a,b,c),this.EDITOR_META_DATA.mobile.allInputsHidden=!1}})}),define.experiment.component("wysiwyg.viewer.components.Displayer.ChangeGallery",function(a,b){var c=a,d=b;c.methods({setSize:d.after(function(a,b,c){this._componentReady&&this._skinParts||this.addEvent(Constants.ComponentEvents.READY,function(){this.setSize(a,b,c)}.bind(this))})})}),define.experiment.component("wysiwyg.viewer.components.Displayer.NBC_Displayer",function(a,b){var c=a,d=b;c.inherits("core.components.base.BaseComp"),c.utilize(d.merge(["core.components.image.ImageSettings","core.components.image.ImageDimensionsNew"])),c.binds([]),c.statics({_useWidthOverMinWidth:!0,_useHeightOverMinHeight:!0}),c.skinParts({image:{type:"core.components.image.ImageNew",dataRefField:"*",optional:!1,hookMethod:"_setImageArgs"},imageWrapper:{type:"htmlElement",optional:!1},title:{type:"htmlElement",optional:!1},description:{type:"htmlElement",optional:!1},zoom:{type:"htmlElement",optional:!0},link:{type:"htmlElement",optional:!1},rolloverHitArea:{type:"htmlElement",optional:!0}}),c.methods({initialize:d.after(function(){this._settings=null,this._imageDimensions=new this.imports.ImageDimensionsNew,this._heightDiff=0}),_setImageArgs:function(a){return a.argObject={requestExactSize:!this.resources.W.Config.env.$isEditorViewerFrame},a},setOwner:function(a){var b=a.getComponentProperties();this.setComponentProperties(b),this._owner=this,this._parentList=this._owner.getDataItem()},setParentList:function(a){this._parentList=a},setSize:function(a,b,c){this.setWidth(a),this.setHeight(b),this.setComponentProperty("imageMode",c)},isRenderNeeded:function(a){var b=this.parent(a);return b||a.isInvalidated([this.INVALIDATIONS.PROPERTIES_CHANGE])},_onRender:function(a){var b=a.data.invalidations,c=!1;if(b.isInvalidated([this.INVALIDATIONS.PROPERTIES_CHANGE])&&this._onPropertiesChange(),this.hasDataReallyBeenInvalidated(b)&&(this._renderLink(),c=!0),b.isInvalidated([this.INVALIDATIONS.PROPERTIES_CHANGE,this.INVALIDATIONS.DATA_CHANGE,this.INVALIDATIONS.SKIN_CHANGE])&&this._updateParts(),b.isInvalidated([this.INVALIDATIONS.SKIN_CHANGE])){this._view.setStyle("visibility","visible"),this._setupParts();var d=new this.imports.ImageSettings(this.imports.ImageSettings.CropModes.COVER,0,0,!0);this._skinParts.image.setSettings(d)}if(this.hasPropertyFieldBeenInvalidated("imageMode",b)&&(c=!0,this._setImageCropMode(this.getComponentProperty("imageMode"))),b.isInvalidated([this.INVALIDATIONS.WIDTH_REQUEST,this.INVALIDATIONS.HEIGHT_REQUEST])&&(this._setSettingsSizeToCompSize(),c=!0),c&&this._settings){var e=this._updateWrapperSize();this._updateDisplayerSizeIfNeeded(e)}},_setImageCropMode:function(a){a=a||"clipImage";var b=this.imports.ImageSettings.CropModes,c=b.COVER;switch(a){case"clipImage":c=b.COVER;break;case"flexibleHeight":c=b.FIT_WIDTH;break;case"flexibleWidth":c=b.FIT_HEIGHT;break;case"flexibleWidthFixed":c=b.CONTAINS}this._initSettingsIfNeeded(c),this._settings.setCropMode(c)},_initSettingsIfNeeded:function(a){if(!this._settings){var b=this._getSettingsSize();this._settings=new this.imports.ImageSettings(a,b.x,b.y)}},_setSettingsSizeToCompSize:function(){if(this._settings){var a=this._getSettingsSize();this._settings.setSize(a.x,a.y)}},_getSettingsSize:function(){var a=this.getWidthDiff()||0,b=this.getHeightDiff()||0;return{x:this.getWidth()-a,y:this.getHeight()-b}},_updateWrapperSize:function(){var a=this._imageDimensions.getDimensionsForExactSize(this._settings,{x:this._data.get("width"),y:this._data.get("height")}),b=this._skinParts.imageWrapper;return b.setStyles({width:a.imageSize.x+"px",height:a.imageSize.y+"px","margin-top":a.imagePosition.y+"px","margin-left":a.imagePosition.x+"px"}),a.containerSize},_updateDisplayerSizeIfNeeded:function(a){a&&(this.setHeight(a.y+this.getHeightDiff()||0,!0),this.setWidth(a.x+this.getWidthDiff()||0,!0))},_onPropertiesChange:function(){this._galleryImageOnClickAction=this.getComponentProperty("galleryImageOnClickAction")?this.getComponentProperty("galleryImageOnClickAction"):this.getComponentProperty("expandEnabled")===!0?"zoomMode":"disabled",this._skinParts.link.set("text",this.getComponentProperty("goToLinkText")),this._isImageClickable()||-1==this.getState().indexOf("rollover")||this.setState("rollover","general"),this._setTextAlignment()},_updateParts:function(){if(this._skinParts){this._skinParts.title.set("text",this._data.get("title")),this._skinParts.description.set("text",this._data.get("description"));var a=this._skinParts.zoom||this._skinParts.imageWrapper;a.setStyle("cursor",this._isImageClickable()?"pointer":"default");var b="mobileView"===this.getState("displayDevice");"goToLink"===this._galleryImageOnClickAction||!this._isImageLinked()||b?this._skinParts.link.setStyle("display","none"):this._skinParts.link.setStyle("display","block")}},_setupParts:function(){var a=this._skinParts.rollOverHitArea||this.$view,b=this._skinParts.zoom||this._skinParts.imageWrapper;b.on(Constants.CoreEvents.CLICK,this,this._onZoomClick),a.on(Constants.CoreEvents.MOUSE_OVER,this,this._onMouseOver),a.on(Constants.CoreEvents.MOUSE_OUT,this,this._onMouseOut);var c={overflow:"hidden","text-overflow":"ellipsis"};this._skinParts.title.setStyles(c),this._skinParts.description.setStyles(c)},_setTextAlignment:function(){var a=this.getComponentProperty("alignText");if(a)switch(a){case"left":this.setState("alignLeft","textAlignmentState");break;case"center":this.setState("alignCenter","textAlignmentState");break;case"right":this.setState("alignRight","textAlignmentState");break;default:this.setState("alignLeft","textAlignmentState")}},isImageLoading:function(){return!1},_onMouseOver:function(){this._isImageClickable()&&"normal"===this.getState("general")&&this.setState("rollover","general")},_onMouseOut:function(){this._isImageClickable()&&"rollover"===this.getState("general")&&this.setState("normal","general")},_onOwnerPropsChanged:d.remove(),_onResize:d.remove(),render:d.remove(),_refreshImage:d.remove(),_onDataChange:d.remove(),_onAllSkinPartsReady:d.remove(),_onImageStateChange:d.remove(),_clipImage:d.remove(),_setFlexibleHeight:d.remove(),_setFlexibleWidth:d.remove(),_getAspectRatio:d.remove(),_setWrapperSize:d.remove(),_setDisplayerSize:d.remove()})}),define.experiment.component("wysiwyg.viewer.components.FiveGridLine.NBC_HorizontalLineFullScreenWidth",function(a){var b=a;b.inherits("core.components.base.BaseComp"),b.resources(["W.Viewer","W.Config","W.Commands"]),b.propertiesSchemaType("FiveGridLineProperties"),b.skinParts({line:{type:"htmlElement"}}),b.statics({_currentLineWidth:400,_currentLinePosition:0,_currentLineAngle:0}),b.methods({initialize:function(a,b,c){this.parent(a,b,c),this._rotatable=!0,this.setMaxW(15e3),this._resizableSides=[Constants.BaseComponent.ResizeSides.LEFT,Constants.BaseComponent.ResizeSides.RIGHT],this.EDITOR_META_DATA={general:{settings:!0,design:!0},mobile:{allInputsHidden:!0}},this._setXOriginal=this.setX.bind(this),this.setWidthOriginal=this.setWidth.bind(this),this._firstInitialization=!0;var d=window.addEventListener?"addEventListener":"attachEvent",e=this.resources.W.Config.env.$viewingDevice===Constants.ViewerTypesParams.TYPES.MOBILE;window[d]("resize",function(){var a=this.resources.W.Config.env.$viewingDevice===Constants.ViewerTypesParams.TYPES.MOBILE;a==e&&this.$view&&this._fixWidth()}.bind(this))},isRenderNeeded:function(a){var b=[this.INVALIDATIONS.SKIN_CHANGE,this.INVALIDATIONS.WIDTH_REQUEST,this.INVALIDATIONS.DATA_CHANGE,this.INVALIDATIONS.FIRST_RENDER];return a.isInvalidated(b)},_onRender:function(a){var b=this._skinParts.line.$measure.height,c=a.data.invalidations,d=this.getComponentProperty("fullScreenModeOn");this.setHeight(b),this._firstInitialization&&(this._firstInitialization=!1,d&&(this._fixWidth(),this._lockLineXPosition())),this._updateEditBoxUI(),c.isInvalidated([this.INVALIDATIONS.WIDTH_REQUEST])&&this._fixWidth(),this.isContainable()},_getNewPosition:function(){var a=(this.resources.W.Viewer.getDocWidth()-document.body.clientWidth)/2-1;return a>=0?0:a},_fixWidth:function(){var a=document.body.clientWidth,b=this._getNewPosition(),c=this.getComponentProperty("fullScreenModeOn"),d=this.resources.W.Config.env.$viewingDevice===Constants.ViewerTypesParams.TYPES.MOBILE;if(c){d&&(this._rotatable=!1,a=W.Viewer.getDocWidth(),b=0);var e=this.$view&&this.$view.style?this.$view.style.minWidth:"";if(a+"px"===e)return;this.setWidthOriginal(a),this._setXOriginal(b)}},isContainable:function(a){var b=this.getComponentProperty("fullScreenModeOn");if(void 0!==a){if(b&&"core.components.Container"===a.className)return!1}else if(b)return!1;return!0},_updateEditBoxUI:function(){{var a=this.getComponentProperty("fullScreenModeOn");this.resources.W.Config.env.$viewingDevice===Constants.ViewerTypesParams.TYPES.MOBILE}a?(this._rotatable=!1,this._resizableSides=[],this._moveDirections=["VERTICAL_MOVE"]):(this._unlockLineXPosition(),this._rotatable=!0,this._resizableSides=[Constants.BaseComponent.ResizeSides.LEFT,Constants.BaseComponent.ResizeSides.RIGHT],this._moveDirections=["HORIZONTAL_MOVE","VERTICAL_MOVE"]),W.Commands.executeCommand("WEditorCommands.UpdateRotatableProperties",{},this)},_lockLineXPosition:function(){this.setX=function(){},this.setWidth=function(){}},_unlockLineXPosition:function(){this.setX=this._setXOriginal,this.setWidth=this.setWidthOriginal}})}),define.experiment.component("wysiwyg.viewer.components.FooterContainer.LandingPageSupport",function(a){a.methods({toggleLandingPageMode:function(a){a?(this._serializedHeight=this.getHeight(),this.setHeight(this.MINIMUM_HEIGHT_DEFAULT)):(this.setHeight(this._serializedHeight),delete this._serializedHeight)},_getSerializedHeight:function(){return"number"==typeof this._serializedHeight?this._serializedHeight:this.getHeight()}})}),define.experiment.component("wysiwyg.viewer.components.HtmlComponent.NBC_RenderOnlyDisplayed",function(a){a.methods({_onPageTransitionStarted:function(a){a!==this.$view.$pageId&&this.setIFrameSrc(this._iframe,"about:blank")}})}),define.experiment.component("wysiwyg.viewer.components.LoginButton.SiteMemberTranslated",function(a,b){var c=a,d=b;c.dataTypes(["LoginButton",""]),c.resources(["W.SiteMembers","W.Data"]),c.statics({SIGN_IN:"Login/Sign up",SIGN_OUT:"Log out",HELLO:"Hello",langKeys:{en:{Login_Button_Sign_In:"Login/Sign up",Login_Button_Sign_Out:"Log out",Login_Button_Hello:"Hello"},es:{Login_Button_Sign_In:"Inicia SesiÃ³n/RegÃ­strate",Login_Button_Sign_Out:"Salir",Login_Button_Hello:"Hola"},de:{Login_Button_Hello:"Hallo",Login_Button_Sign_In:"Anmelden/Registrieren",Login_Button_Sign_Out:"Abmelden"},fr:{Login_Button_Hello:"Bonjour",Login_Button_Sign_In:"Connexion / Inscription",Login_Button_Sign_Out:"DÃ©connexion"},it:{Login_Button_Hello:"Ciao",Login_Button_Sign_In:"Login/ Registati",Login_Button_Sign_Out:"Esci"},ja:{Login_Button_Hello:"ã“ã‚“ã«ã¡ã¯ã€",Login_Button_Sign_In:"ãƒ­ã‚°ã‚¤ãƒ³ï¼ä¼šå“¡ç™»éŒ²",Login_Button_Sign_Out:"ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ"},ko:{Login_Button_Hello:"ì•ˆë…•í•˜ì„¸ìš”, ",Login_Button_Sign_In:"ë¡œê·¸ì¸/ê°€ìž…í•˜ê¸°",Login_Button_Sign_Out:"ë¡œê·¸ì•„ì›ƒ"},pl:{Login_Button_Hello:"Witaj",Login_Button_Sign_In:"Zaloguj siÄ™/Zarejestruj siÄ™",Login_Button_Sign_Out:"Wyloguj siÄ™"},pt:{Login_Button_Hello:"OlÃ¡",Login_Button_Sign_In:"Login / Registre-se",Login_Button_Sign_Out:"Sair"},ru:{Login_Button_Hello:"Ð—Ð´Ñ€Ð°Ð²ÑÑ‚Ð²ÑƒÐ¹Ñ‚Ðµ,",Login_Button_Sign_In:"Ð’Ð¾Ð¹Ñ‚Ð¸/Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ",Login_Button_Sign_Out:"Ð’Ñ‹Ð¹Ñ‚Ð¸"},tr:{Login_Button_Hello:"Merhaba",Login_Button_Sign_In:"GiriÅŸ / KayÄ±t",Login_Button_Sign_Out:"Ã‡Ä±kÄ±ÅŸ"}},_keys:{}}),c.methods({_setDictionary:function(a){this._keys=a&&this.langKeys[a]?this.langKeys[a]:this.langKeys.en},render:d.before(function(){if(this.getDataItem())this.getDataItem()&&!this.getDataItem()._data.language&&this.getDataItem().set("language",this.resources.W.Config.getLanguage()||"en");else{var a=this.resources.W.Data.addDataItemWithUniqueId("",{type:"LoginButton",language:"en"});this.setDataItem(a.dataObject)}}),_updateTextsAndEvents:function(){this._setDictionary(this.getDataItem()&&this.getDataItem()._data.language?this.getDataItem()._data.language:"en");var a=this._skinParts,b=this.injects().SiteMembers,c=a.actionTitle,d=a.memberTitle,e=this;this.injects().SiteMembers.isLoggedIn()?(c.set("text",this._keys.Login_Button_Sign_Out),c.addEvent("click",this._addLogoutMemberHandler(c)),this.injects().SiteMembers.getMemberDetails(function(a){var b=a.attributes&&a.attributes.name||a.email;d.set("text",this._keys.Login_Button_Hello+" "+b)}.bind(this)),this.setState("auth")):(c.set("text",this._keys.Login_Button_Sign_In),c.addEvent("click",function(){b.openSiteMembersPopup({dialogsLanguage:e.getDataItem()&&e.getDataItem()._data.language?e.getDataItem()._data.language:"en",authCallback:function(a){1==a.authResponse&&e._renderIfReady()}}),c.removeEvent("click",arguments.callee)}.bind(this)),d.set("text",""),this.setState("no_auth"))}})}),define.experiment.component("wysiwyg.viewer.components.MatrixGallery.ChangeGallery",function(a,b){var c=a,d=b;c.methods({initialize:d.after(function(){this.EDITOR_META_DATA.custom.push({label:"CHANGE_GALLERY_TYPE",command:"WEditorCommands.OpenChangeGalleryDialog",commandParameter:{}})})})}),define.experiment.component("wysiwyg.viewer.components.MatrixGallery.OrganizeImages",function(a){var b=a;b.fields({EDITOR_META_DATA:{general:{settings:!0,design:!0},custom:[{label:"GALLERY_ORGANIZE_PHOTOS",command:"WEditorCommands.OpenOrganizeImagesDialog",commandParameter:{galleryConfigID:"MatrixGallery",publicMediaFile:"photos",selectionType:"multiple",mediaType:"picture",i18nPrefix:"multiple_images"},commandParameterDataRef:"SELF"}],dblClick:{command:"WEditorCommands.OpenOrganizeImagesDialog",commandParameter:{galleryConfigID:"MatrixGallery",publicMediaFile:"photos",selectionType:"multiple",mediaType:"picture",i18nPrefix:"multiple_images"},commandParameterDataRef:"SELF"},mobile:{previewImageDataRefField:"*"}}})}),define.experiment.newComponent("wysiwyg.viewer.components.MediaRichText.SuperRichText",function(a){var b=a;b.inherits("wysiwyg.viewer.components.WRichText"),b.utilize(["core.managers.components.ComponentDomBuilder"]),b.dataTypes(["MediaRichText"]),b.binds(["_onAllInnerCompsReady"]),b.fields({wrapper:null}),b.methods({initialize:function(a,b,c){this.parent(a,b,c),this._compDomBuilder=new this.imports.ComponentDomBuilder,this._innerComponenets={},this.addEvent("resize",this._updateSize),this._isChildCompsReady=!1},_updateVideoSize:function(a,b){var c=a.node.$logic._getWMinSize(),d=a.node.$logic._getHMinSize(),e=c;a.jsonData.width&&(e=a.jsonData.width*b);var f=d*(e/c);a.node.$logic.setWidth(e),a.node.$logic.setHeight(f)},_updateImageSize:function(a,b){if(a.jsonData.width)a.node.$logic.setWidth(a.jsonData.width*b);else{var c=a.node.$logic.getDataItem().get("width"),d=c>b?b:c;a.node.$logic.setWidth(d)}},_updateSize:function(a){var b=a||this.getViewNode().getWidth();_.forEach(this._innerComponenets,function(a){a.node.$logic&&("wysiwyg.viewer.components.WPhoto"===a.jsonData.componentType?this._updateImageSize(a,b):"wysiwyg.viewer.components.Video"===a.jsonData.componentType&&this._updateVideoSize(a,b))},this)},_updateText:function(){this._loadFontsToViewer();var a=this.getDataItem().get("text");this.getRichTextContainer().set("html",a),this._shouldUpdateLinksData()&&this._setLinksDataToElements("VIEW"),this._createCompsFromPlaceHolders(),this.resources.W.Config.env.getCurrentFrameDevice()===Constants.ViewerTypesParams.TYPES.MOBILE&&this._normalizeChildrenForMobile(this.getRichTextContainer())},_createCompsFromPlaceHolders:function(){this._isChildCompsReady=!1,this._replacePlaceHoldersWithComps(),this._listenToAllChildrenReady(this._onAllInnerCompsReady)},_setStyles:function(a,b){a.setStyle("margin-top","5px"),a.setStyle("margin-bottom","5px"),b.floatValue?(a.setStyle("float",b.floatValue),a.setStyle("display","")):b.display&&(a.setStyle("display",b.display),a.setStyle("float","")),a.setStyle("margin-left",b.marginLeft),a.setStyle("margin-right",b.marginRight),a.setStyle("position","static")},_replacePlaceHoldersWithComps:function(){var a=this.getRichTextContainer().getElements("[wix-comp]");_.forEach(a,function(a){var b,c=JSON.parse(a.get("wix-comp"));if(this._innerComponenets[c.dataQuery]){var d=this._innerComponenets[c.dataQuery];d.jsonData=c,b=d.node}else c.layout={staticPosition:!0},b=this._compDomBuilder.createComponent(c).rootCompNode,"wysiwyg.viewer.components.WPhoto"===c.componentType&&this._createImagePropertyDataItem(c.dataQuery),b.wixify(),this._innerComponenets[c.dataQuery]={jsonData:c,node:b};a.parentElement.replaceChild(b,a)},this)},_prepareForRender:function(){return this._isChildCompsReady},_listenToAllChildrenReady:function(a){var b=this._getNodesReadyPromises();return Q.all(b).then(function(){a()})},_onAllInnerCompsReady:function(){this.$view.setStyle("overflow","overlay"),this._isChildCompsReady=!0,this._addAllCompsToSkinParts(),this._updateCompsStyles(),this.renderIfNeeded(),this._updateSize()},_getNodesReadyPromises:function(){var a=this._getNodesFromCompsArray();return _.map(a,function(a){var b=Q.defer();return a.$logic&&a.$logic.isReady()&&b.resolve(),a.on(Constants.ComponentEvents.READY,this,function(){b.resolve()}),b.promise},this)},_addAllCompsToSkinParts:function(){var a=this._getNodesFromCompsArray();_.forEach(a,function(a){a.$logic&&(this._skinParts[a.$logic.getComponentId()]=a.$logic)},this)},_updateCompsStyles:function(){this._getNodesFromCompsArray();_.forEach(this._innerComponenets,function(a){var b=a.node;b.$logic&&"wysiwyg.viewer.components.WPhoto"===b.$logic.$className&&(b.$logic._skinParts.link.setStyle("display","inline-block"),b.$logic.setUseWidthOverMinWidth(!0)),this._setStyles(b,a.jsonData)},this)},_createImagePropertyDataItem:function(a){W.ComponentData.addDataItem(a,{type:"WPhotoProperties",displayMode:"fitWidth",id:a})},_getNodesFromCompsArray:function(){return _.map(this._innerComponenets,function(a){return a.node})},markInnerCompsForDispose:function(){_.forEach(this._innerComponenets,function(a){a.shouldBeDisposed=!0},this)},markInnerCompAsUsed:function(a){this._innerComponenets[a]&&(this._innerComponenets[a].shouldBeDisposed=!1)},disposeUnusedComps:function(){_.forEach(this._innerComponenets,function(a){a.shouldBeDisposed&&(a.node.$logic.dispose(),delete this._innerComponenets[a.jsonData.dataQuery])},this)}})}),define.experiment.component("wysiwyg.viewer.components.MediaZoom.HashRefactor",function(a){var b=a;b.methods({_handleCurrentItemChange:function(){this.lock();var a=function(a){var b=this.injects().Utils.hash.getHashObject();b.id===a.id&&b.extData===a.extData?this.showZoomImage():this.injects().Utils.hash.setHash_new(a,!0)}.bind(this);this._getHashPartsFunction?this._getHashPartsFunction(this._currentItem,a):this.showZoomImage()}})}),define.experiment.component("wysiwyg.viewer.components.MediaZoom.MediaZoomDispose",function(a,b){var c=a;c.methods({_closeZoom:function(){this.collapse(),this.injects().Viewer.exitFullScreenMode(),this.setDataItem(null),this.resetIterator(),this._emptyContainer(this._skinParts.virtualContainer),this._emptyContainer(this._skinParts.itemsContainer),this._skinParts.dialogBox.setStyles({width:"100px"}),this._opened=!1,this.unlock(),this._lastCurrentItem=null},_transitionToCurrentDisplayer:function(a){if(!this._inTransition){this._inTransition=!0,a.setStyle("opacity","0.0");var b=this._skinParts.itemsContainer,c=this,d=function(){c._emptyContainer(b);var d=a.getStyles("width","height"),f=c._getTopGap(d.height.replace("px",""));b.adopt(a),c._emptyContainer(c._skinParts.virtualContainer);var g=new Fx.Morph(c._skinParts.dialogBox,{duration:c.transitionTime,link:"chain"});g.addEvent("complete",function(){var b=new Fx.Tween(a,{duration:c.transitionTime,link:"chain"});b.addEvent("complete",function(){c.unlock(),c._inTransition=!1,b.removeEvent("complete",arguments.callee)}),b.start("opacity","1.0"),g.removeEvent("complete",arguments.callee)}),g.start({width:d.width,"min-height":d.height,"margin-top":f+"px"}),e&&e.removeEvent("complete",arguments.callee)};if(b.hasChildNodes()){var e=new Fx.Tween(b.firstChild,{duration:c.transitionTime,link:"chain",property:"opacity"});e.addEvent("complete",d),e.start("0.0")}else d()}},_changeImageNoTransition:function(a){var b=this._skinParts.itemsContainer,c=this;this._emptyContainer(b);var d=a.getStyles("width","height"),e=c._getTopGap(d.height.replace("px",""));b.adopt(a),this._emptyContainer(c._skinParts.virtualContainer),c._skinParts.dialogBox.setStyles({width:d.width,"min-height":d.height,"margin-top":e+"px"}),c.unlock()},_emptyContainer:function(a){for(var b=0;b<a.childNodes.length;b++){var c=a.childNodes[b];c.getLogic?c.getLogic().dispose():c.destroy()}a.empty()}})}),define.experiment.component("wysiwyg.viewer.components.MobileMediaZoomDisplayer.ExitMobileMode",function(a,b){var c=a;c.methods({initialize:function(a,b,c){this._fontSizeCorrectionWhenOpenZoomInPortrait=1.1,this.parent(a,b,c);var d=this._getDeviceSize();this._maxWidth=d.width,this._maxHeight=d.height,this._mobileConfig=this.resources.W.Config.mobileConfig,this.resources.W.Config.mobileConfig.isTablet()?this.setState("tablet","displayDevice"):this.resources.W.Config.env.getCurrentFrameDevice()===Constants.ViewerTypesParams.TYPES.MOBILE||this.resources.W.Config.mobileConfig.isMobile()?this.setState("mobile","displayDevice"):this.setState("desktop","displayDevice"),this._isMobilePreviewMode=W.Config.env.$isEditorViewerFrame}})}),define.experiment.component("wysiwyg.viewer.components.PageGroup.AnimationPageTransitions",function(a,b){var c=a,d=b;c.binds(d.merge(["_onPageLoadByIdSuccess","_pageChangeComplete"])),c.fields({_currentPageId:null,_isNavigating:!1}),c.methods({initialize:function(a,b,c){this.parent(a,b,c),this.resources.W.Commands.registerCommand("WViewerCommands.PageChangeRequested",!0),this.resources.W.Commands.registerCommand("WViewerCommands.PageChangeComplete",!0),this.resources.W.Commands.registerCommand("WViewerCommands.NextPageReady",!0),this.resources.W.Commands.registerCommandListenerByName("WViewerCommands.PageTransitionComplete",this,this._pageChangeComplete)},render:function(){this.parent(),this.setWidth(this.resources.W.Viewer.getDocWidth()),this.setMaxH(this.imports.Page.MAX_HEIGHT),this._skinParts.overlay.collapse()},gotoPage:function(a){if(a!==this._currentPageId&&!this._isNavigating){this._isNavigating=!0;var b=this.resources.W.Viewer.getCompByID(a);_.defer(this.resources.W.Viewer.loadPageById.bind(this.resources.W.Viewer),a,b,this._onPageLoadByIdSuccess),this.resources.W.Commands.executeCommand("WViewerCommands.PageChangeRequested",{fromPageId:this._currentPageId,pageId:a},"pageGroup")}},_onPageLoadByIdSuccess:function(a){var b=a.pageNode.$logic;b.preparePageForShow(),this._waitForNextPageContentReady(b)},_waitForNextPageContentReady:function(a){this._fireLegacyTransitionStartEvents(a.getComponentId()),a.$view.addClass("hidePageForTransition"),a.uncollapse(),a.isContentReady()?this._onNextPageContentReady(a):a.addEvent("pageContentReady",this._onNextPageContentReady)},_onNextPageContentReady:function(a){var b=this._currentPageId,c=a.getComponentId(),d={fromPageId:b,pageId:c};a.removeEvent("pageContentReady",this._onNextPageContentReady),this.resources.W.Commands.executeCommand("WViewerCommands.NextPageReady",d,"pageGroup")},_pageChangeComplete:function(a){a.fromPageId!==this._currentPageId&&console.log("WTF? how did you get here??","PageGroup._pageChangeComplete"),this._setNextPageToBeCurrent(a),this._fireLegacyTransitionEndEvents(this._currentPageId),this.resources.W.Layout.callForMeasure(),this._isNavigating=!1,this.resources.W.Commands.executeCommand("WViewerCommands.PageChangeComplete",{fromPageId:a.fromPageId,pageId:this._currentPageId},"pageGroup")},_onNavigationFailed:function(){this._isNavigating=!1,LOG.reportError(wixErrors.PAGE_NAVIGATION_FAILED,"PageGroup","_waitForNextPageContentReady","")},_setNextPageToBeCurrent:function(a){var b=this.resources.W.Viewer.getCompLogicById(a.pageId);this._collapsePageById(a.fromPageId),this._currentPageId=b.getComponentId(),this._resizePage(b.getHeight()),b.on("resize",this,this.onCurrentPageResize)},_collapsePageById:function(a){var b=a?this.resources.W.Viewer.getCompLogicById(a):null;b&&b.collapse()},_fireLegacyTransitionStartEvents:function(a){this.$view.fireEvent("pageTransitionStarted",a),this.resources.W.Viewer.fireEvent("pageTransitionStarted",a)},_fireLegacyTransitionEndEvents:function(a){this.$view.fireEvent("pageTransitionEnded",a)},_resizePage:function(a){var b=this.resources.W.Viewer.getCompLogicById(this._currentPageId);a=a||b.getHeight(),this.setHeight(a),this.resources.W.Layout.enforceAnchors([this]),this._notifyPageGroupLayoutChange()},getMinPhysicalHeight:function(){var a=this.resources.W.Viewer.getCompLogicById(this._currentPageId);return a.getHeight()},getCurrentChildren:function(){var a=this.resources.W.Viewer.getCompByID(this._currentPageId);return a?[a]:[]},getInlineContentContainer:d.remove(),editModeChange:d.remove(),_onDataChanged:d.remove(),_onAllSkinPartsReady:d.remove(),_addNextPageToQueue:d.remove(),_resetNavigationProcess:d.remove(),_onTransitionFinished:d.remove(),_performFinalTransitionOperations:d.remove(),_finalizeTransition:d.remove(),_scrollToTopIfNeeded:d.remove(),_executeTransition:d.remove(),_hideNextPage:d.remove(),_unhideNextPage:d.remove(),_notifyWhenPageContentReady:d.remove(),_executeTransitionPageReady:d.remove(),_ensurePreviousTransitionFinalized:d.remove(),_transitionToNextPageIfPossible:d.remove(),_transitionToNextPage:d.remove(),_getPageTransitionDuration:d.remove(),dispose:d.remove()})}),define.experiment.component("wysiwyg.viewer.components.PageGroup.BackgroundPerPage",function(a,b){var c=a;c.methods({_initTransitionDurationMap:function(){this._transitionDurationMap=_.invert(Constants.TransitionTypes)},_getPageTransitionDuration:function(a){var b=0,c=this._transitionDurationMap[a],d=Constants.TransitionDefaults[c];return d&&(b=d.durationInSec||0),b}})}),define.experiment.component("wysiwyg.viewer.components.PageGroup.ContainerNBC",function(a){var b=a;b.inherits("core.components.ContainerOBC")}),define.experiment.component("wysiwyg.viewer.components.PageGroup.LandingPageSupport",function(a,b){var c=a;c.methods({_executeTransition:b.after(function(a){if(this._currentPage){var b=this._currentPage.$logic.isLanding(),c=a.$logic.isLanding();if(b!==c){var d={toLanding:c};W.Commands.executeCommand("Viewer.ToggleLandingPageMode",d)}}})})}),define.experiment.component("wysiwyg.viewer.components.PageGroup.NBC_RenderOnlyDisplayed",function(a,b){var c=a,d=b;c.resources(d.merge(["W.ComponentLifecycle"])),c.methods({_hideNextPage:function(a){a.setStyle("opacity","0.0"),a.getLogic().uncollapse(),this.resources.W.ComponentLifecycle.forceRender()}})}),define.experiment.component("wysiwyg.viewer.components.PageGroup.PageNavigationFix",function(a,b){var c=a;c.binds(b.merge(["_executeTransitionPageReady","_resetNavigationProcess","_executeNavigationProcess","_onNavigationFailed"])),c.methods({actualGotoPage:function(a){var b=this._addNextPageToQueue(a);b&&this._executeNavigationProcess(b)},_addNextPageToQueue:function(a){return this._isNavigating?(this._nextPageToNavigateTo=a,null):(this._nextPageToNavigateTo=void 0,this._isNavigating=!0,a)},_executeNavigationProcess:function(a,b){this._notifyPageChangeStart(a.$logic.getComponentId(),b),this._executeTransition(a),this._notifyWhenPageContentReady(a).then(this._executeTransitionPageReady).then(this._onTransitionFinished).then(this._resetNavigationProcess,this._onNavigationFailed).done()},_notifyPageChangeStart:function(a,b){var c=this._currentPage&&this._currentPage.$logic.getComponentId();this.resources.W.Commands.executeCommand("WViewerCommands.PageChangeStart",{fromPageId:c,pageId:a,isFromReset:!!b},this)},_onNavigationFailed:function(){this._isNavigating=!1,LOG.reportError(wixErrors.PAGE_NAVIGATION_FAILED,"PageGroup","_executeNavigationProcess","")},_resetNavigationProcess:function(){if(this._nextPageToNavigateTo){var a=this._nextPageToNavigateTo;this._nextPageToNavigateTo=void 0,this._executeNavigationProcess(a,!0)}else this._isNavigating=!1},_executeTransition:function(a){this._fireLegacyTransitionStartEvents(a),this._hideNextPage(a)},_performFinalTransitionOperations:function(a){this._currentPage.$logic.on("resize",this,this.onCurrentPageResize),this._nextPageToNavigateTo||this._finalizeTransition(a)},_notifyWhenPageContentReady:function(a){var b=Q.defer();return a.$logic.isContentReady()===!0?b.resolve(a):a.$logic.addEvent("pageContentReady",function(){a.$logic.removeEvent("pageContentReady",arguments.callee),b.resolve(a)}),b.promise},_executeTransitionPageReady:function(a){return this._unhideNextPage(a),this._transitionToNextPageIfPossible(a)},_transitionToNextPageIfPossible:function(a){var b=this._currentPage&&this._currentPage.$logic,c=b&&b.getComponentId(),d=Q.defer();return b&&!b.getIsDisposed()?this._transitionToNextPage(a,d):(this._ensurePreviousTransitionFinalized(a),d.resolve(c)),d.promise},_transitionToNextPage:function(a,b){var c=this._currentPage.$logic,d=this.getComponentProperty("transition"),e=this._getPageTransitionDuration(d),f=a.getLogic().getHeight(),g=d===Constants.TransitionTypes.SWIPE_VERTICAL_FULLSCREEN?1:0,h=c&&c.getComponentId();c.off("resize",this,this.onCurrentPageResize);var i=c.getHeight(),j=Q.defer();e>0?(this._Tween.execute(i,f,e,{onUpdate:this._resizePage,ease:"strong_easeInOut"}),this._Tween.execute(window.pageYOffset,0,e,{onUpdate:function(a){window.scrollTo(0,a)},onComplete:function(){j.resolve(h)},ease:"strong_easeInOut"})):(this._resizePage(f),j.resolve(h));
var k=this._transitionUtils.getTransition(d);k(this._currentPage,a,g,e,function(){this._currentPage.getLogic().collapse(),this._currentPage=a,b.resolve(j.promise)}.bind(this))}})}),define.experiment.component("wysiwyg.viewer.components.PagesContainer.LandingPageSupport",function(a){a.methods({toggleLandingPageMode:function(a){a?(this._serializedY=this.getY(),this.setY(0)):(this.setY(this._serializedY),delete this._serializedY)},_getSerializedY:function(){return"number"==typeof this._serializedY?this._serializedY:this.getY()}})}),define.experiment.component("wysiwyg.viewer.components.PasswordLogin.SiteMemberTranslated",function(a,b){var c=a,d=b;c.statics({langKeys:{en:{PasswordLogin_Header:"Enter password to view this page",PasswordLogin_Error_General:"Server error - Unable to log in",PasswordLogin_Wrong_Password:"Please enter the correct password",PasswordLogin_Password:"Password",PasswordLogin_Submit:"OK"},es:{PasswordLogin_Wrong_Password:"Por favor introduce la clave correcta",PasswordLogin_Password:"Clave",PasswordLogin_Header:"Escribe la clave para ver esta pÃ¡gina",PasswordLogin_Submit:"OK",PasswordLogin_Error_General:"Server error - Unable to log in"},de:{PasswordLogin_Wrong_Password:"Bitte geben Sie das richtige Passwort ein.",PasswordLogin_Password:"Passwort",PasswordLogin_Header:"Geben Sie ein Passwort ein, um diese Seite zu sehen.",PasswordLogin_Submit:"OK",PasswordLogin_Error_General:"Server error - Unable to log in"},fr:{PasswordLogin_Header:"Veuillez saisir un mot de passe afin d'accÃ©der Ã  cette page",PasswordLogin_Error_General:"Server error - Unable to log in",PasswordLogin_Wrong_Password:"Veuillez saisir le mot de passe correct",PasswordLogin_Password:"Mot de passe",PasswordLogin_Submit:"OK"},it:{PasswordLogin_Header:"Inserisci la password per visualizzare questa pagina",PasswordLogin_Error_General:"Server error - Unable to log in",PasswordLogin_Wrong_Password:"Ti preghiamo di inserire la password corretta",PasswordLogin_Password:"Password",PasswordLogin_Submit:"OK"},ja:{PasswordLogin_Wrong_Password:"æ­£ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",PasswordLogin_Password:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",PasswordLogin_Header:"ã“ã®ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å…¥åŠ›ãŒå¿…è¦ã§ã™",PasswordLogin_Submit:"OK",PasswordLogin_Error_General:"Server error - Unable to log in"},ko:{PasswordLogin_Wrong_Password:"ì˜¬ë°”ë¥¸ ë¹„ë°€ë²ˆí˜¸ë¥¼ ìž…ë ¥í•˜ì„¸ìš”.",PasswordLogin_Password:"ë¹„ë°€ë²ˆí˜¸",PasswordLogin_Header:"ë¹„ë°€ë²ˆí˜¸ë¥¼ ìž…ë ¥í•˜ì„¸ìš”.",PasswordLogin_Submit:"OK",PasswordLogin_Error_General:"Server error - Unable to log in"},pl:{PasswordLogin_Header:"Wpisz haslo, aby zobaczyc te strone",PasswordLogin_Error_General:"Server error - Unable to log in",PasswordLogin_Wrong_Password:"Wpisz poprawne haslo",PasswordLogin_Password:"Haslo",PasswordLogin_Submit:"OK"},pt:{PasswordLogin_Header:"Insira a senha para ver esta pÃ¡gina",PasswordLogin_Error_General:"Server error - Unable to log in",PasswordLogin_Wrong_Password:"Por favor, insira a senha correta",PasswordLogin_Password:"Senha",PasswordLogin_Submit:"OK"},ru:{PasswordLogin_Wrong_Password:"ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",PasswordLogin_Password:"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ",PasswordLogin_Header:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ ÑÑ‚Ñƒ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ",PasswordLogin_Submit:"OK",PasswordLogin_Error_General:"Server error - Unable to log in"},tr:{PasswordLogin_Header:"Bu sayfayi gÃ¶rÃ¼ntÃ¼lemek iÃ§in sifreyi girin",PasswordLogin_Error_General:"Server error - Unable to log in",PasswordLogin_Wrong_Password:"LÃ¼tfen dogru sifreyi girin",PasswordLogin_Password:"Sifre",PasswordLogin_Submit:"OK"}},_keys:{}}),c.methods({initialize:d.after(function(a,b,c){this._setDictionary(c&&c.dialogsLanguage?c.dialogsLanguage:"en")}),centerDialog:d.after(function(){this._skinParts.submitButton.value=this._keys.PasswordLogin_Submit}),_setDictionary:function(a){this._keys=a&&this.langKeys[a]?this.langKeys[a]:this.langKeys.en},_validatePassword:function(a,b,c){if(this._digestedPassword){var d=W.Utils.hashing.SHA256.b64_sha256(a);d==this._digestedPassword?b():c(this._keys.PasswordLogin_Wrong_Password)}},_bindPasswordField:function(a){return a.argObject={label:this._keys.PasswordLogin_Password,passwordField:!0},a.dataItem=this.resources.W.Data.createDataItem({text:"",type:"Text"},"Text"),a},_onAllSkinPartsReady:function(a){if(this._disableCancel?(a.xButton.hide(),a.cancel.setStyle("visibility","hidden")):(a.cancel.addEvent("click",this._handleCancel),a.xButton.addEvent("click",this._handleCancel),a.blockingLayer.addEvent("click",function(b){b.target==a.blockingLayer&&this._handleCancel()}.bind(this))),a.submitButton.addEvent("click",this._onSubmit),a.title.set("text",this._keys.PasswordLogin_Header),this.resources.W.Config.isPremiumUser()){a.faveIconAhref.removeAttribute("href");var b=window.publicModel&&window.publicModel.favicon;a.favIcon.src=b?this.resources.W.Config.getMediaStaticUrl(b)+b:this.resources.W.Config.getServiceTopologyProperty("staticThemeUrlWeb")+"/viewer/blank-favicon.png"}a.passwordInput.addEvent(Constants.CoreEvents.KEY_UP,this._onKeyPress)}})}),define.experiment.component("wysiwyg.viewer.components.ScreenWidthContainer.ContainerNBC",function(a){var b=a;b.inherits("core.components.ContainerOBC")}),define.experiment.component("wysiwyg.viewer.components.SiteButton.FontAdvanceStyle",function(a,b){var c=a,d=b;c.utilize(d.merge(["core.utils.css.Font"])),c.methods({_getButtonFontSize:function(){var a=this.getStyle();if(a){var b=a.getPropertySource("fnt"),c=a.getProperty("fnt"),d="value"==b?new this.imports.Font(c):W.Theme.getProperty(c);return parseInt(d.getSize())}var e=this._skinParts.label;return parseInt(e.getStyle("font-size"))}})}),define.experiment.component("wysiwyg.viewer.components.SlideShowGallery.ChangeGallery",function(a,b){var c=a,d=b;c.methods({initialize:d.after(function(){this.EDITOR_META_DATA.custom.push({label:"CHANGE_GALLERY_TYPE",command:"WEditorCommands.OpenChangeGalleryDialog",commandParameter:{}})})})}),define.experiment.component("wysiwyg.viewer.components.SliderGallery.ChangeGallery",function(a,b){var c=a,d=b;c.methods({initialize:d.after(function(){this.EDITOR_META_DATA.custom.push({label:"CHANGE_GALLERY_TYPE",command:"WEditorCommands.OpenChangeGalleryDialog",commandParameter:{}})})})}),define.experiment.component("wysiwyg.viewer.components.Video.VideoNBC",function(a){var b=a;b.inherits("core.components.base.BaseComp"),b.methods({initialize:function(a,b,c){c=c||{},this.parent(a,b,c),this._iframe=null,this.on("resizeEnd",this,this._onResizeEnd),this.resources.W.Commands.registerCommandListenerByName("WPreviewCommands.WEditModeChanged",this,this._onEditorModeChanged)},_onRender:function(a){var b=a.data.invalidations;this._renderIframe(),this.setMinW(this._getWMinSize()),this.setMinH(this._getHMinSize()),b.isInvalidated([this.INVALIDATIONS.FIRST_RENDER])&&this._view.on(Constants.DisplayEvents.COLLAPSED,this,this._stopVideo)},isRenderNeeded:function(a){var b=[this.INVALIDATIONS.DATA_CHANGE,this.INVALIDATIONS.FIRST_RENDER,this.INVALIDATIONS.SIZE];return a.isInvalidated(b)},_onResize:function(){},setHeight:function(a,b,c){this.parent(a,b,c)},setWidth:function(a,b,c){this.parent(a,b,c)},_onEditorModeChanged:function(a,b){if(!this.resources.W.Config.env.$isPublicViewerFrame){"CURRENT_PAGE"===a&&(this._stopVideo(),this._renderIframe());var c="PREVIEW";(b===c||a===c)&&this._renderIframe()}}})}),define.experiment.newComponent("wysiwyg.viewer.components.WPhoto.AppsWPhotoNBC",function(a,b){var c=a;b=b,c.inherits("wysiwyg.viewer.components.WPhotoBase"),c.utilize(["core.components.image.ImageSettings","core.components.image.ImageDimensionsNew","wysiwyg.common.utils.LinkRenderer"]),c.resources(["W.Viewer"]),c.skinParts(b.inherit()),c.dataTypes(b.inherit()),c.propertiesSchemaType(b.inherit()),c.methods({initialize:function(a,b,c){this.parent(a,b,c),this._linkRenderer=new this.imports.LinkRenderer},_renderLink:function(){if(this.PREVENT_LINK_RENDER)return this._linkRenderer.removeRenderedLinkFrom(this._skinParts.link,this),void 0;var a=this.getDataItem(),b=a._data.link;if(!b)return this._linkRenderer.removeRenderedLinkFrom(this._skinParts.link,this),void 0;var c=this.resources.W.Data.getDataByQuery(b);c&&this._linkRenderer.renderLink(this._skinParts.link,c,this)},_onClick:function(a){a.rightClick===!1&&"zoomMode"===this.getComponentProperty("onClickBehavior")&&this.resources.W.Commands.executeCommand("WViewerCommands.OpenZoom",{item:this._data,getDisplayerDivFunction:this.resources.W.Viewer.getDefaultGetZoomDisplayerFunction("Image")},this)}})}),define.experiment.newComponent("wysiwyg.viewer.components.WPhotoBase.AppsWPhotoNBC",function(a){var b=a;b.inherits("core.components.base.BaseComp"),b.binds(["_mediaGalleryCallback","_onClick"]),b.utilize(["core.components.image.ImageSettings","core.components.image.ImageDimensionsNew"]),b.skinParts({link:{type:"htmlElement"},img:{type:"core.components.image.ImageNew",dataRefField:"*",hookMethod:"_setImageArgs"}}),b.dataTypes(["Image"]),b.states({touch:["noTouch","hasTouch"]}),b.propertiesSchemaType("WPhotoProperties"),b.resources(["W.Utils","W.Config","W.Data","W.Commands"]),b.fields({_renderTriggers:[Constants.DisplayEvents.ADDED_TO_DOM,Constants.DisplayEvents.DISPLAYED,Constants.DisplayEvents.DISPLAY_CHANGED,Constants.DisplayEvents.SKIN_CHANGE],EDITOR_META_DATA:{general:{settings:!0,design:!0},custom:[{label:"PHOTO_REPLACE_IMAGE",command:"WEditorCommands.OpenMediaFrame",commandParameter:{openCommand:"FPP",galleryConfigID:"photos",publicMediaFile:"photos",selectionType:"single",i18nPrefix:"single_image",mediaType:"picture",callback:"_mediaGalleryCallback"}},{label:"PHOTO_EDIT_IMAGE",command:"WEditorCommands.OpenAviaryDialog"},{label:"LINK_LINK_TO",command:"WEditorCommands.OpenLinkDialogCommand",commandParameter:{position:"center"},commandParameterDataRef:"SELF"}],dblClick:{command:"WEditorCommands.OpenMediaFrame",commandParameter:{openCommand:"dblClick",galleryConfigID:"photos",publicMediaFile:"photos",selectionType:"single",i18nPrefix:"single_image",mediaType:"picture",callback:"_mediaGalleryCallback"}},mobile:{previewImageDataRefField:"*"}}}),b.statics({MIN_IMAGE_HEIGHT:1,MIN_IMAGE_WIDTH:1,_autoSizeStates:{none:1,autoSizeNoLayoutUpdate:2,autoSizeUpdateLayout:3}}),b.methods({initialize:function(a,b,c){this.parent(a,b,c),this._SettingsClass=this.imports.ImageSettings,this._imageSettings=new this.imports.ImageSettings,this._imageDimensions=new this.imports.ImageDimensionsNew,c&&c.props&&this.setComponentProperties(c.props),this._contentPadding={x:0,y:0},this._rotatable=!0},isRenderNeeded:function(a){return a.isInvalidated([this.INVALIDATIONS.PART_SIZE])||this.parent(a)},_onRender:function(a){var b,c=a.data.invalidations,d=this.getComponentProperties(),e=d.get("onClickBehavior")||"",f="zoomAndPanMode"===e||this._showZoom,g=this._skinParts.img,h=Modernizr.touch?"hasTouch":"noTouch";this.PREVENT_LINK_RENDER="wysiwyg.viewer.components.WPhoto"===this.className?!0:!1;var i=!1;c.isInvalidated([this.INVALIDATIONS.SKIN_CHANGE,this.INVALIDATIONS.PART_SIZE])&&(this._updateFramePadding(),i=this._updateImageSize(this.getWidth(),this.getHeight())),c.isInvalidated([this.INVALIDATIONS.DATA_CHANGE,this.INVALIDATIONS.SKIN_CHANGE])&&(g.setZoom(f),f?g.fireEvent("resize",g.isOriginalImageSmallerThanWrapper()):g.fireEvent("resize",!1)),i=i||c.isInvalidated([this.INVALIDATIONS.DATA_CHANGE]),i&&this._updateImageSettings(),c.isInvalidated([this.INVALIDATIONS.DATA_CHANGE])&&(this._setTitle(),this._checkResizeInFitMode(),this._skinParts.img._view.style.cursor="",b=c._invalidations.dataChange[0],b&&"link"===b.field&&b.value.link&&this.getComponentProperties().set("onClickBehavior","goToLink"),this._clickEventSelector(),this._renderLink()),this.setState(h,"touch")},_clickEventSelector:function(){var a=this.getComponentProperty("onClickBehavior");switch(this._skinParts.view.removeEvent("click",this._onClick),a){case"zoomMode":this._zoomModeSelected();break;case"goToLink":this.PREVENT_LINK_RENDER=!1;break;case"disabled":this._doNothigModeSelected()}},_doNothigModeSelected:function(){this.PREVENT_LINK_RENDER=!0,this._skinParts.img._view.style.cursor="default"},_zoomModeSelected:function(){this.PREVENT_LINK_RENDER=!0,this._skinParts.view.addEvent("click",this._onClick),this._skinParts.img._view.style.cursor="pointer"},_onClick:function(){},_renderLink:function(){},_setImageArgs:function(a){return a.argObject={requestExactSize:!this.resources.W.Config.env.$isEditorViewerFrame},a},_preventRenderOnDataChange:function(a,b){return b&&"displayMode"!==b&&"href"!==b?!0:!1},setWidth:function(a,b){this.parent(a),this._updateImageSize(a,null),b||(this._changeCropModeInFit(!0),this._skinParts.img.setSettings(this._imageSettings),this._checkResizeInFitMode())},setHeight:function(a,b){this.parent(a),this._updateImageSize(null,a),b||(this._changeCropModeInFit(!1),this._skinParts.img.setSettings(this._imageSettings),this._checkResizeInFitMode())},_changeCropModeInFit:function(a){this.isDisplayed()&&"fitWidth"===this._getDisplayMode()&&(a?this._imageSettings.setCropMode(this._imageSettings.CropModes.FIT_WIDTH):this._imageSettings.setCropMode(this._imageSettings.CropModes.FIT_HEIGHT))},_updateImageSize:function(a,b){this._framePadding||this._updateFramePadding();var c=!1,d=this._imageSettings.getSize(),e=a-this._framePadding.x,f=b-this._framePadding.y;return null===a||isNaN(a)||d&&d.x===e||(this._imageSettings.setWidth(e),c=!0),null===b||isNaN(b)||!d&&d.y===f||(this._imageSettings.setHeight(f),c=!0),c},_checkResizeInFitMode:function(){var a=this._framePadding;if(this._skinParts.img.getSize())if(this._imageSettings.getCropMode()===this._imageSettings.CropModes.FIT_WIDTH){var b=this._skinParts.img.getSize().y;this.setHeight(b+a.y,!0)}else if(this._imageSettings.getCropMode()===this._imageSettings.CropModes.FIT_HEIGHT){var c=this._skinParts.img.getSize().x;this.setWidth(c+a.x,!0)}},_updateImageSettings:function(){var a=this._getImageCropMode();this._imageSettings.setCropMode(a),this._skinParts.img.setSettings&&this._skinParts.img.setSettings(this._imageSettings)},_updateFramePadding:function(){var a=this.getSkin(),b={left:a.getParamValue("contentPaddingLeft"),right:a.getParamValue("contentPaddingRight"),top:a.getParamValue("contentPaddingTop"),bottom:a.getParamValue("contentPaddingBottom")},c={left:parseInt(b.left?b.left._amount:0,10),right:parseInt(b.right?b.right._amount:0,10),top:parseInt(b.top?b.top._amount:0,10),bottom:parseInt(b.bottom?b.bottom._amount:0,10)};this._framePadding={x:c.left+c.right,y:c.top+c.bottom}},_getImageCropMode:function(){var a=this.getComponentProperty("displayMode");return"fitWidthStrict"===a&&(a=this._imageSettings.CropModes.FIT_WIDTH),"fitHeightStrict"===a&&(a=this._imageSettings.CropModes.FIT_HEIGHT),a},getMinPhysicalHeight:function(){return this._getContentPaddingSize().y},_renderImage:function(){if(this._layoutInitialized&&this._sizeDefined){var a=this._skinParts.img;if(a&&a.getOriginalClassName){var b=this._getImageSettings();a.setSettings(b),b.getCropMode()===b.CropModes.FIT_WIDTH?this.setHeight(a.getSize().y+this._getContentPaddingSize().y,!1,!1,!0):b.getCropMode()===b.CropModes.FIT_HEIGHT&&this.setWidth(a.getSize().x+this._getContentPaddingSize().x,!1,!1,!0),this._fireAutoSize()}}},_fireAutoSize:function(){this._autoSizeState!==this._autoSizeStates.none&&(this.fireEvent("autoSized",{ignoreLayout:this._autoSizeState===this._autoSizeStates.autoSizeNoLayoutUpdate}),this.injects().Layout&&this.injects().Layout.notifyPositionChanged(this,"updateSize"),this._autoSizeState=this._autoSizeStates.none)},_styleChanged:function(){var a=this._getContentPaddingSize(!0);this.setMinH(a.y+this.MIN_IMAGE_HEIGHT),this.setMinW(a.x+this.MIN_IMAGE_WIDTH);var b=this._getPhotoInnerSize();this._getImageSettings().setSize(b.x,b.y)},_getContentPaddingSize:function(a){if(!this._contentPadding||a){this._contentPadding={};var b=this.getSkin();this._contentPadding.x=parseInt(b.getParamValue("contentPaddingLeft"),10)+parseInt(b.getParamValue("contentPaddingRight"),10),this._contentPadding.y=parseInt(b.getParamValue("contentPaddingTop"),10)+parseInt(b.getParamValue("contentPaddingBottom"),10),this._contentPadding.x=isNaN(this._contentPadding.x)?0:this._contentPadding.x,this._contentPadding.y=isNaN(this._contentPadding.y)?0:this._contentPadding.y,this.getSizeLimits().minH=this._contentPadding.y,this.getSizeLimits().minW=this._contentPadding.x}return this._contentPadding},_getImageSettings:function(){if(!this._imageSettings){var a=this._getPhotoInnerSize(),b=this._translateDisplayModeToImageCropMode(this._getDisplayMode());this._imageSettings=new this.imports.ImageSettings(b,a.x,a.y)}return this._imageSettings},_getPhotoInnerSize:function(){var a=this._getContentPaddingSize(),b=this.getWidth()-a.x,c=this.getHeight()-a.y;return{x:b,y:c}},_setTitle:function(){var a=this._data.get("title");this._skinParts.view.set("title",a)},_getDisplayMode:function(){return this.getComponentProperty("displayMode")},_getImageDisplayMode:function(){return this._getImageSettings()&&this._getImageSettings().getCropMode()},_translateDisplayModeToImageCropMode:function(a){var b=a;return"fitWidthStrict"===a&&(b=this._SettingsClass.CropModes.FIT_WIDTH),"fitHeightStrict"===a&&(b=this._SettingsClass.CropModes.FIT_HEIGHT),b},allowHeightLock:function(){return!this._isFitMode()},_isFitMode:function(){var a=["fitWidth","fitWidthStrict","fitHeightStrict"];return a.indexOf(this._getDisplayMode())>=0},_mediaGalleryCallback:function(a){this.getDataItem().setFields({title:a.title,description:a.description||"",height:a.height,width:a.width,uri:a.fileName}),this._reportLogEvent()},_reportLogEvent:function(){LOG.reportEvent(wixEvents.CHANGE_IMAGE_CLICK_SUCCESS,{c1:"Wphoto"})}})}),define.component("wysiwyg.viewer.components.WPhotoOBC",function(a){var b=a;b.inherits("mobile.core.components.base.BaseComponent"),b.binds(["_mediaGalleryCallback"]),b.utilize(["core.components.image.ImageSettings","core.components.image.ImageDimensionsNew","wysiwyg.common.utils.LinkRenderer"]),b.resources(["W.Config","W.Data"]),b.skinParts({link:{type:"htmlElement"},img:{type:"core.components.image.ImageNew",dataRefField:"*",hookMethod:"_setImageArgs"}}),b.dataTypes(["Image"]),b.propertiesSchemaType("WPhotoProperties"),b.fields({_renderTriggers:[Constants.DisplayEvents.ADDED_TO_DOM,Constants.DisplayEvents.DISPLAYED,Constants.DisplayEvents.DISPLAY_CHANGED,Constants.DisplayEvents.SKIN_CHANGE],EDITOR_META_DATA:{general:{settings:!0,design:!0},custom:[{label:"PHOTO_REPLACE_IMAGE",command:"WEditorCommands.OpenMediaFrame",commandParameter:{galleryConfigID:"photos",publicMediaFile:"photos",selectionType:"single",i18nPrefix:"single_image",mediaType:"picture",callback:"_mediaGalleryCallback"}},{label:"PHOTO_EDIT_IMAGE",command:"WEditorCommands.OpenAviaryDialog"},{label:"LINK_LINK_TO",command:"WEditorCommands.OpenLinkDialogCommand",commandParameter:{position:"center"},commandParameterDataRef:"SELF"}],dblClick:{command:"WEditorCommands.OpenMediaFrame",commandParameter:{galleryConfigID:"photos",publicMediaFile:"photos",selectionType:"single",i18nPrefix:"single_image",mediaType:"picture",callback:"_mediaGalleryCallback"}}}}),b.statics({MIN_IMAGE_HEIGHT:1,MIN_IMAGE_WIDTH:1,_autoSizeStates:{none:1,autoSizeNoLayoutUpdate:2,autoSizeUpdateLayout:3}}),b.methods({initialize:function(a,b,c){this._imageDimensions=new this.imports.ImageDimensionsNew,this._SettingsClass=this.imports.ImageSettings,this.parent(a,b,c),c&&c.props&&this.setComponentProperties(c.props),this._contentPadding={x:0,y:0},this._autoSizeState=this._autoSizeStates.none,this._initialDataChange=!0,this._linkRenderer=new this.imports.LinkRenderer},_setImageArgs:function(a){return a.argObject={requestExactSize:!this.injects().Config.env.$isEditorViewerFrame},a},_onAllSkinPartsReady:function(a){this.parent(a),this._data&&this._setTitle()},_preventRenderOnDataChange:function(a,b){return b&&"displayMode"!=b&&"href"!=b?!0:!1},_onDataChange:function(a,b,c){if(this._skinParts&&"title"==b&&this._setTitle(),"displayMode"==b){var d=this._translateDisplayModeToImageCropMode(c.displayMode);this._getImageSettings().setCropMode(d)}this._initialDataChange||!this._isFitMode()||"displayMode"!=b&&b||(this._autoSizeState=this._autoSizeStates.autoSizeUpdateLayout),this._initialDataChange=!1,this.parent(a,b,c)},setWidth:function(a,b,c,d){if(a&&!isNaN(a)&&(d||"fitHeightStrict"!=this._getDisplayMode())&&(this._getImageSettings().setContainerWidth(a-this._getContentPaddingSize().x),this.parent(a,b,c),!d)){var e=this._getImageDisplayMode();e==this._SettingsClass.CropModes.FIT_HEIGHT&&this._isDisplayed&&this._getImageSettings().setCropMode(this._SettingsClass.CropModes.FIT_WIDTH),(e===this._SettingsClass.CropModes.FIT_WIDTH||e===this._SettingsClass.CropModes.FIT_HEIGHT)&&(this._autoSizeState=this._autoSizeStates.autoSizeNoLayoutUpdate),this._renderImage()}},setHeight:function(a,b,c,d){if(a&&!isNaN(a)&&(d||"fitWidthStrict"!=this._getDisplayMode())&&(this.parent(a,b,c),this._getImageSettings().setContainerHeight(a-this._getContentPaddingSize().y),!d)){var e=this._getImageDisplayMode();e==this._SettingsClass.CropModes.FIT_WIDTH&&this._isDisplayed&&this._getImageSettings().setCropMode(this._SettingsClass.CropModes.FIT_HEIGHT),(e===this._SettingsClass.CropModes.FIT_WIDTH||e===this._SettingsClass.CropModes.FIT_HEIGHT)&&(this._autoSizeState=this._autoSizeStates.autoSizeNoLayoutUpdate),this._renderImage()}},getMinPhysicalHeight:function(){return this._getContentPaddingSize().y},render:function(){this._styleChanged(),this._renderImage(),this.parent(),this._renderLink()},_renderLink:function(){if(this.PREVENT_LINK_RENDER)return this._linkRenderer.removeRenderedLinkFrom(this._skinParts.link,this),void 0;var a=this.getDataItem(),b=a._data.link;if(!b)return this._linkRenderer.removeRenderedLinkFrom(this._skinParts.link,this),void 0;var c=this.resources.W.Data.getDataByQuery(b);c&&this._linkRenderer.renderLink(this._skinParts.link,c,this)},_renderImage:function(){if(this._layoutInitialized){var a=this._skinParts.img;if(a&&a.getOriginalClassName){var b=this._getImageSettings();a.setSettings(b),b.getCropMode()==b.CropModes.FIT_WIDTH?this.setHeight(a.getSize().y+this._getContentPaddingSize().y,!1,!1,!0):b.getCropMode()==b.CropModes.FIT_HEIGHT&&this.setWidth(a.getSize().x+this._getContentPaddingSize().x,!1,!1,!0),this._fireAutoSize()}}},_fireAutoSize:function(){this._autoSizeState!=this._autoSizeStates.none&&(this.fireEvent("autoSized",{ignoreLayout:this._autoSizeState==this._autoSizeStates.autoSizeNoLayoutUpdate}),this.resources.W.Config.env.$isEditorFrame||this.injects().Layout.notifyPositionChanged(this,"updateSize"),this._autoSizeState=this._autoSizeStates.none)},_styleChanged:function(){var a=this._getContentPaddingSize(!0);this.setMinH(a.y+this.MIN_IMAGE_HEIGHT),this.setMinW(a.x+this.MIN_IMAGE_WIDTH);var b=this._getPhotoInnerSize();this._getImageSettings().setSize(b.x,b.y)},_getContentPaddingSize:function(a){if(!this._contentPadding||a){this._contentPadding={};var b=this.getSkin();this._contentPadding.x=parseInt(b.getParamValue("contentPaddingLeft"),10)+parseInt(b.getParamValue("contentPaddingRight"),10),this._contentPadding.y=parseInt(b.getParamValue("contentPaddingTop"),10)+parseInt(b.getParamValue("contentPaddingBottom"),10),this._contentPadding.x=isNaN(this._contentPadding.x)?0:this._contentPadding.x,this._contentPadding.y=isNaN(this._contentPadding.y)?0:this._contentPadding.y,this.getSizeLimits().minH=this._contentPadding.y,this.getSizeLimits().minW=this._contentPadding.x}return this._contentPadding},_getImageSettings:function(){if(!this._imageSettings){var a=this._getPhotoInnerSize(),b=this._translateDisplayModeToImageCropMode(this._getDisplayMode());this._imageSettings=new this.imports.ImageSettings(b,a.x,a.y)}return this._imageSettings},_getPhotoInnerSize:function(){var a=this._getContentPaddingSize(),b=this.getWidth()-a.x,c=this.getHeight()-a.y;return{x:b,y:c}},_setTitle:function(){var a=this._data.get("title");this._skinParts.view.set("title",a)},_getDisplayMode:function(){return this.getComponentProperty("displayMode")},_getImageDisplayMode:function(){return this._getImageSettings()&&this._getImageSettings().getCropMode()},_translateDisplayModeToImageCropMode:function(a){var b=a;return"fitWidthStrict"==a&&(b=this._SettingsClass.CropModes.FIT_WIDTH),"fitHeightStrict"==a&&(b=this._SettingsClass.CropModes.FIT_HEIGHT),b},allowHeightLock:function(){return!this._isFitMode()},_isFitMode:function(){var a=["fitWidth","fitWidthStrict","fitHeightStrict"];return a.indexOf(this._getDisplayMode())>=0},_mediaGalleryCallback:function(a){this.getDataItem().setFields({title:a.title,description:a.description||"",height:a.height,width:a.width,uri:a.fileName})}})}),define.experiment.component("wysiwyg.viewer.components.WRichText.MobileTextBrightness",function(a,b){var c=a,d=b;c.resources(d.merge(["W.Theme"])),c.utilize(d.merge(["wysiwyg.viewer.components.classes.TextScalingModifier","wysiwyg.viewer.components.classes.TextBrightnessModifier"])),c.propertiesSchemaType("WRichTextProperties"),c.fields({_renderTriggers:[Constants.DisplayEvents.ADDED_TO_DOM,Constants.DisplayEvents.DISPLAYED],EDITOR_META_DATA:{general:{settings:!0,design:!1},custom:[{label:"EDIT_RICH_TEXT",command:"EditorUI.StartEditRichText"}],mobile:{isTextScalable:!0,previewTextDataField:"text",disablePropertySplit:!0}}}),c.methods({initialize:d.after(function(){this._brightness=1,this._isMobile=this._isMobileComponent()}),_isMobileComponent:function(){return this.getComponentUniqueId().contains(Constants.ViewerTypesParams.DOM_ID_PREFIX.MOBILE)},setScale:function(a,b){var c=this._$scale,d=c>a;this._$scale=parseFloat(a),this._isMobile&&(this._scalingModifier.setScale(this._$scale),this._scalingModifier.updateDomAccordingToNewValue(),!b&&d&&this._updateComponentHeightAccordingToTextEffectiveHeight()),this.fireEvent("autoSized",{wasScaleChanged:!0})},setBrightness:function(a){this._brightness=parseFloat(a),this._brightnessModifier.setBrightness(this._brightness),this._brightnessModifier.updateDomAccordingToNewValue()},getBrightness:function(){return this._brightness},_onDataChange:function(a,b,c,d){this._skinParts&&(a===this._data?this._updateText():this._shouldApplyBrightness(a,b)&&this.setBrightness(c[b]),this.parent(a,b,c,d))},_updateComponentHeightAccordingToTextEffectiveHeight:function(){var a=this._scalingModifier.getEffectiveTextHeight(this);this.setHeight(a)},setIsPropertiesSavedInServer:function(){var a=this._properties.get("id").contains(Constants.ViewerTypesParams.DOM_ID_PREFIX.MOBILE);this._properties.setMeta("isPersistent",a)},_onAllSkinPartsReady:d.before(function(){var a=this.getRichTextContainer();this._isMobile&&(this._scalingModifier=new this.imports.TextScalingModifier(this._$scale,a),this._brightnessModifier=new this.imports.TextBrightnessModifier(this._brightness,a))}),_shouldApplyBrightness:function(a,b){return this._isMobile&&a===this._properties&&"brightness"===b},_updateText:function(){this._loadFontsToViewer();var a=this.getDataItem().get("text");this.getRichTextContainer().set("html",a),this._shouldUpdateLinksData()&&this._setLinksDataToElements("VIEW"),this._isMobile&&this._setMobileComponentAppearance()},_setMobileComponentAppearance:function(){var a=this._properties&&this._properties.get("brightness")||this._brightness;this._brightnessModifier.emptyCache(),this.setBrightness(a),this._scalingModifier.updateDomAccordingToNewValue()},_normalizeChildrenForMobile:d.remove(),_convertSizeToMobile:d.remove()})}),define.experiment.component("wysiwyg.viewer.components.WRichText.NBC_WRichText",function(a,b){var c=a,d=b;c.inherits("core.components.base.BaseComp"),c.utilize(d.merge(["wysiwyg.viewer.components.classes.TextScalingModifier","wysiwyg.viewer.components.classes.TextBrightnessModifier"])),c.propertiesSchemaType("WRichTextProperties"),c.statics({_useWidthOverMinWidth:!0}),c.fields({_renderTriggers:d.remove(),EDITOR_META_DATA:d.remove()}),c.methods({initialize:function(a,b,c){this.parent(a,b,c),this.on(Constants.EventDispatcher.Events.EXTERMINATING,this,this._removeThePanelInterestInData),this.setMaxH(5e3),this._isMobile=this.resources.W.Config.env.getCurrentFrameDevice()===Constants.ViewerTypesParams.TYPES.MOBILE,this._linkRenderer=new this.imports.LinkRenderer},isRenderNeeded:function(a){var b=[this.INVALIDATIONS.SKIN_CHANGE,this.INVALIDATIONS.DATA_CHANGE,this.INVALIDATIONS.DISPLAY,this.INVALIDATIONS.SCALE_CHANGE,this.INVALIDATIONS.PROPERTIES_CHANGE,this.INVALIDATIONS.MEASURED_SIZE_DIFFERS_FROM_REQUESTED];return a.isInvalidated(b)},_onRender:function(a){var b=a.data.invalidations,c=b.isInvalidated([this.INVALIDATIONS.SKIN_CHANGE,this.INVALIDATIONS.DISPLAY])||this.hasDataReallyBeenInvalidated(b);c&&this._updateText(),this._isMobile&&this._onRenderMobileAdditions(b,c)},_onRenderMobileAdditions:function(a,b){this._prepareMobileModifiers(a,b),this._mobileUpdatesForEditor(a),(b||a.isInvalidated([this.INVALIDATIONS.SCALE_CHANGE]))&&this._updateMobileScaling(a.getLastInvalidationByType(this.INVALIDATIONS.SCALE_CHANGE));var c=a.isInvalidated([this.INVALIDATIONS.PROPERTIES_CHANGE]);(b||c)&&this._updateMobileBrightness()},_prepareMobileModifiers:function(a,b){if(a.isInvalidated([this.INVALIDATIONS.SKIN_CHANGE])){var c=this.getRichTextContainer();this._scalingModifier=new this.imports.TextScalingModifier(this.getScale(),c),this._brightnessModifier=new this.imports.TextBrightnessModifier(this._brightness,c)}b&&(this._brightnessModifier.emptyCache(),this._scalingModifier.emptyCache())},_mobileUpdatesForEditor:function(){},_updateText:function(){this._loadFontsToViewer();var a=this.getDataItem().get("text");this.getRichTextContainer().set("html",a),this._setLinksDataToElements()},_setLinksDataToElements:function(){for(var a=$(this.getRichTextContainer()).getElements("a"),b=0;b<a.length;b++){var c=a[b],d=c.getAttribute("dataquery");d?this._setLinkAttributes(d,c):!this.resources.W.Config.env.$isEditorViewerFrame||c.getAttribute("target")&&"_blank"==c.getAttribute("target")||c.setAttribute("target","_blank")}},_setLinkAttributes:function(a,b){var c=this.resources.W.Data.getDataByQuery(a);c&&(this._linkRenderer.renderLink(b,c,this),"PageLink"!==c.getType()&&this._linkRenderer.sanitizeExternalLink(b))},_updateMobileScaling:function(){this._scalingModifier.setScale(this.getScale()),this._scalingModifier.updateDomAccordingToNewValue()},_updateMobileBrightness:function(){this._brightnessModifier.setBrightness(this.getComponentProperty("brightness")),this._brightnessModifier.updateDomAccordingToNewValue()},getBrightness:function(){return this.getComponentProperty("brightness")},_removeThePanelInterestInData:function(){this._data&&(this._data.componentsWithInterest=_.filter(this._data.componentsWithInterest,function(a){return"wysiwyg.editor.components.panels.WRichTextPanel"!=a.$className}))},_onAllSkinPartsReady:d.remove(),_onDataChange:d.remove(),_shouldUpdateLinksData:d.remove(),dispose:d.remove(),getMostCommonTextSizeBeforeScaling:d.remove(),normalizeScaleIfNeeded:d.remove(),_isMobileComponent:d.remove(),setBrightness:d.remove(),_updateComponentHeightAccordingToTextEffectiveHeight:d.remove(),setIsPropertiesSavedInServer:d.remove(),_shouldApplyBrightness:d.remove(),_setMobileComponentAppearance:d.remove(),setScale:d.remove()})}),define.experiment.component("wysiwyg.viewer.components.WSiteStructure.BackgroundPerPage",function(a,b){var c=a,d=b;c.binds(d.customizeField(function(a){for(var b=["_invalidateBg","_validateBg"],c=a,d=0;d<b.length;d++){var e=c.indexOf(b[d]);c=c.slice(0,e).append(c.slice(e+1,c.length))}return c})),c.methods({_onAllSkinPartsReady:function(){var a=this.resources.W.Viewer.getDocWidth();this.setWidth(a),this._initBackgroundNode()},_initBackgroundNode:function(){this._bgNodes=$("bgNodes"),this._bgNodes||this._createBgNodesHook(),this._bgNode||this._createBackground()},_createBgNodesHook:function(){this._bgNodes=new Element("div",{id:"bgNodes",style:"position:relative; margin: 0 auto;"}),document.body.insertBefore(this._bgNodes,document.body.firstChild)},_createBackground:function(){this._structureState===Constants.ViewerTypesParams.TYPES.MOBILE?this._createMobileBackgroundNode():this._createDesktopBackgroundNode()
},_createDesktopBackgroundNode:function(){var a={id:"desktopBgNode",comp:"wysiwyg.viewer.components.background.DesktopBackground",skin:"wysiwyg.viewer.skins.background.BackgroundSkin"};this._bgNode=this._createBgNode(a)},_createMobileBackgroundNode:function(){var a={id:"mobileBgNode",comp:"wysiwyg.viewer.components.background.MobileBackground",skin:"wysiwyg.viewer.skins.background.BackgroundMobileSkin"};this._bgNode=this._createBgNode(a)},_createBgNode:function(a){var b=this._getBgNodeByCompId(a.id);if(!b){b=new Element("div",a);var c=this.resources.W.Config.mobileConfig.isMobile()?this.resources.W.Viewer.getDocWidth()+"px":"100%";b.setStyles({position:"relative",width:c,margin:"0 auto"}),b.wixify(),this._bgNodes.appendChild(b)}return b},_getBgNodeByCompId:function(a){return this._bgNodes.querySelector("#"+a)},_onThemePropertyChange:function(){this._bgNode.$logic._handleViewerStateChanged()},setHeight:function(a){this._siteHeight!==a&&(this._siteHeight=a,this.parent(a),this.resources.W.Viewer.siteHeightChanged(!0),this._bgNode.$logic.updateRenderedBGWithHeight(this._siteHeight))},_updateBgProperty:d.remove(),_createDesktopBgNode:d.remove(),_createMobileBgNode:d.remove(),_isBgStyleChanged:d.remove(),_validateBg:d.remove(),_invalidateBg:d.remove(),collapse:d.remove(),uncollapse:d.remove(),_addBgEvents:function(){}})}),define.experiment.component("wysiwyg.viewer.components.WSiteStructure.ContainerNBC",function(a){var b=a;b.inherits("core.components.ContainerOBC")}),define.experiment.component("wysiwyg.viewer.components.WixAds.FeedmeReviewTranslations",function(a,b){var c=a;c.methods({_addBiEvent:function(){this._addBiEventsToSkinPart(this._skinParts.topRectLabel,{c1:"top-right"}),this._addBiEventsToSkinPart(this._skinParts.topRectContent,{c1:"top-right"}),this._addBiEventsToSkinPart(this._skinParts.footerLabel,{c1:"footer"})},_addBiEventsToSkinPart:function(a,b){var c=this.resources.W.Config.env.$isEditorlessPreview?wixEvents.FEEDBACK_USER_CLICKED_WIX_ADS:wixEvents.WIXADS_CLICKED_IN_PREVIEW;a.on(Constants.CoreEvents.CLICK,this,function(){LOG.reportEvent(c,b)})}})}),define.experiment.newComponent("wysiwyg.viewer.components.background.AbstractBackground.BackgroundPerPage",function(a){var b=a;b.inherits("core.components.base.BaseComp"),b.skinParts({bgViewPort:{type:"htmlElement"},primary:{type:"htmlElement"},secondary:{type:"htmlElement"}}),b.resources(["W.Config","W.Theme","W.Viewer","W.Commands","W.Data","W.Utils"]),b.binds(["_handleViewerStateChanged","_handleResize","_renderBackground","_onPageChange","_onPageChangeEnded","_onTransitionComplete","_onScrollBg","_runTransition","_initBgParts"]),b.utilize(["core.managers.components.ComponentBuilder","core.utils.css.Background","core.utils.BackgroundHelper","wysiwyg.viewer.utils.TransitionUtils"]),b.statics({DEFAULT_TRANSITION_DIRECTION:0,VERTICAL_TRANSITION_DIRECTION:1}),b.states({visibility:["VISIBLE","INVISIBLE"]}),b.methods({initialize:function(a,b,c){this.parent(a,b,c),this._areBgPartsInitialized=!1,this._isBgAttachmentFixed=!0,this._bgStyles={},this._lastBgStyles={},this._showingBgPart=null,this._hiddenBgPart=null,this._pageToChangeTo=null,this._siteHeight=0,this._isDomDisplayReady=!1,this._transitionUtils=new this.imports.TransitionUtils,this._transitionNameToKey=_.invert(Constants.TransitionTypes),this._backgroundHelper=new this.imports.BackgroundHelper,this._registerBGListeners()},_registerBGListeners:function(){var a=this._isInEditorFrame();a||(this.resources.W.Viewer.addEvent("pageTransitionStarted",this._onPageChange),this.resources.W.Viewer.addEvent("pageTransitionEnded",this._onPageChangeEnded),this.resources.W.Viewer.addEvent("SiteReady",this._initBgParts)),this.resources.W.Commands.registerCommandAndListener("WPreviewCommands.WEditModeChanged",this,this._handlePreviewModeChangeToEditor),this.resources.W.Theme.addEvent("propertyChange",this._renderBackground),this.resources.W.Commands.registerCommandAndListener("WPreviewCommands.ViewerStateChanged",this,this._handleViewerStateChanged),this.resources.W.Commands.registerCommandAndListener("WViewerCommands.CustomBackgroundChanged",this,this._renderBackground),this._bindWindowEvents()},_bindWindowEvents:function(){var a;a=this.resources.W.Config.env.isEditorInPreviewMode()||this.resources.W.Config.env.isPublicViewer()||this.resources.W.Config.env.$isEditorViewerFrame?window:W.Preview.getPreviewSite(),a.addEvent("resize",this._handleResize),a.addEvent("scroll",this._onScrollBg),this._siteWindow=a},_handlePreviewModeChangeToEditor:function(){this._handleResize()},_handleResize:function(){var a={};this._updateBgDefinitionPosition(a),this._updateSiteBgSize(a),this._setBGPositionAndDimension(a)},updateRenderedBGWithHeight:function(a){this._siteHeight=a,this._fitBackgroundHeightToSite()},isRenderNeeded:function(a){var b=[this.INVALIDATIONS.SKIN_CHANGE,this.INVALIDATIONS.DATA_CHANGE];return a.isInvalidated(b)},_onPageChange:function(a){this._pageToChangeTo!==a&&this._renderPageBackground(a)},_renderPageBackground:function(a){var b=null===this._pageToChangeTo;this._pageToChangeTo=a,b||this._isBackgroundInvisible()?(this._renderBackground(),this._notifyBGComponentReady()):(this._renderSecondaryBg(this._pageToChangeTo),this._beforeTransition(),this._runTransition())},_isBackgroundInvisible:function(){return"INVISIBLE"===this.getState("visibility")},_onPageChangeEnded:function(a){this._pageToChangeTo===a&&this._fitBackgroundHeightToSite()},_fitBackgroundHeightToSite:function(){if(this._areBgPartsInitialized){var a=this._calculateHeight();this._bgViewPort.setStyle("height",a),this._showingBgPart.setStyle("height",a),this._hiddenBgPart.setStyle("height",a)}},_renderBackground:function(){var a=this.resources.W.Viewer.getCurrentPageId();this._onRenderBg(a,this._showingBgPart),this._ensureVisibilityStyles(),this._resetShowingBgPartPosition()},_arePageBGsDifferent:function(){var a=this._getNodeBgStyle(this._showingBgPart),b=this._getNodeBgStyle(this._hiddenBgPart);return!_.isEqual(a,b)},_onTransitionComplete:function(){var a=this._showingBgPart;this._showingBgPart=this._hiddenBgPart,this._hiddenBgPart=a,this._ensureVisibilityStyles(),this._resetShowingBgPartPosition(),this._afterTransition()},_ensureVisibilityStyles:function(){this._hiddenBgPart.setStyle("visibility","hidden"),this._hiddenBgPart.setStyle("display","none"),this._hiddenBgPart.setStyle("opacity",0),this._showingBgPart.setStyle("visibility","visible"),this._showingBgPart.setStyle("display","block"),this._showingBgPart.setStyle("opacity",1)},_resetBgPartsStyles:function(a){a&&a.name===Constants.TransitionTypes.CROSS_FADE||a.name===Constants.TransitionTypes.SHRINK_FADE||a.name===Constants.TransitionTypes.OUT_IN?this._hiddenBgPart.setStyle("opacity",0):this._hiddenBgPart.setStyle("opacity",1),this._hiddenBgPart.setStyle("visibility","visible"),this._hiddenBgPart.setStyle("display","block"),this._showingBgPart.setStyle("visibility","visible"),this._showingBgPart.setStyle("display","block"),this._showingBgPart.setStyle("opacity",1),this._bgViewPort.setStyle("top",0)},_renderSecondaryBg:function(a){this._onRenderBg(a,this._hiddenBgPart)},_initBgParts:function(){this._bgViewPort=this._skinParts.bgViewPort,this._showingBgPart=this._skinParts.primary,this._hiddenBgPart=this._skinParts.secondary;var a=this._calculateWidth(),b=this._calculateHeight();this._bgViewPort.setStyle("width",a),this._bgViewPort.setStyle("height",b),this._hiddenBgPart.setStyle("left",a),this.resources.W.Viewer.removeEvent("SiteReady",this._initBgParts),this._renderBackground(),this._handleResize(),this._areBgPartsInitialized=!0},_isBgStyleChanged:function(a){this._getNodeBgStyle(a),this._getLastNodeBgStyle(a);return!0},_onRender:function(){if(this._showingBgPart){var a=this.resources.W.Viewer.getCurrentPageId();this._onRenderBg(a,this._showingBgPart)}},isDomDisplayReadyOnReady:function(){return this._isDomDisplayReady},_notifyBGComponentReady:function(){this._isDomDisplayReady=!0,this.$view.fireEvent(Constants.ComponentEvents.DOM_DISPLAY_READY)},_updateSiteBgSize:function(a){a.height=this._calculateHeight(),a.width=this._calculateWidth()},_onScrollBg:function(){if(!this._isMobile()&&!this._isBgAttachmentFixed){var a=this._siteWindow.getScroll().y;this._bgViewPort.setStyle("top",-a)}},_onRenderBg:function(a,b){if(b&&a){var c=this._getPageCustomBGDataItem(a);if(this._isPageBackgroundCustom(c)){var d=c.ref;if(d){var e=this.resources.W.Data.getDataByQuery(d),f=e.getData();this._renderCustomPageBG(f,b)}else this._renderCrossSiteBG(b)}else this._renderCrossSiteBG(b)}},_isPageBackgroundCustom:function(a){return a&&a.custom},_isCustomBGForced:function(){return!0},_getPageDataItem:function(a){var b=this.resources.W.Data,c=b.normalizeQueryID(a);return b.getDataByQuery(c)},_renderCustomPageBG:function(a,b){var c=this._backgroundHelper.createBgCssValueFromDataItem(a),d=new this.imports.Background(c,this.resources.W.Theme);this._updatePositionAndStyles(b,d)},_renderCrossSiteBG:function(a){var b=this.resources.W.Theme.getProperty(this._getBgDeviceType());this._updatePositionAndStyles(a,b)},_updatePositionAndStyles:function(a,b){this._updateBgStyleFromBgDefinition(a,b),this._updateBgDefinitionPosition(this._getNodeBgStyle(a)),this._applyBackgroundStyles(a)},_applyBackgroundStyles:function(a){var b=this._getNodeBgStyle(a);this._setLastBgStyle(a,Object.clone(b)),this._setBGPositionAndDimension(b),delete b.left,a.setStyles(b)},_getNodeBgStyle:function(a){return this._getNodeBgFromStyles(a,this._bgStyles)},_getLastNodeBgStyle:function(a){return this._getNodeBgFromStyles(a,this._lastBgStyles)},_getNodeBgFromStyles:function(a,b){var c=null;if(a&&b){var d=a.getAttribute("skinPart");c=b[d],c||(c={},b[d]=c)}return c},_setLastBgStyle:function(a,b){if(a&&b){var c=a.getAttribute("skinPart");this._lastBgStyles[c]=b}},_setBGPositionAndDimension:function(a){for(var b=[this._showingBgPart,this._hiddenBgPart,this._bgViewPort],c=0;c<b.length;c++){var d=b[c];d.setStyle("height",a.height),d.setStyle("width",a.width)}this._hiddenBgPart.setStyle("left",a.width),this._bgViewPort.setStyle("left",a.left)},_updateBgStyleFromBgDefinition:function(a,b){if(b){this._isBgAttachmentFixed=this._isBackgroundFixed(b);var c=this._getNodeBgStyle(a);c["background-attachment"]=this._isMobile()?"scroll":b.getAttachment(),c["background-image"]=b.getUrl(),c["background-size"]=b.getCssSizeValue(),c["background-position"]=b.getPositionX()+" "+b.getPositionY(),c["background-position-x"]=b.getPositionX(),c["background-position-y"]=b.getPositionY(),c["background-repeat"]=b.getRepeatX()+" "+b.getRepeatY(),c["background-color"]=b.getColor(),this._updateSiteBgSize(this._getNodeBgStyle(this._showingBgPart)),this._updateSiteBgSize(this._getNodeBgStyle(this._hiddenBgPart))}},_getPageCustomBGDataItem:function(a){var b=null;if(a){var c=this._getPageDataItem(a),d=c.get("pageBackgrounds");b=this._getCustomBackground(d)}return b},_isInEditorFrame:function(){return this.resources.W.Config.env.$isEditorFrame},_isMobileView:function(){return this.resources.W.Config.env.isViewingSecondaryDevice()},_isDesktopView:function(){return this.resources.W.Config.env.isViewingDesktopDevice()},_isBackgroundFixed:function(a){return!this._isMobile()&&a&&"scroll"!==a.getAttachment()},_beforeTransition:function(){},_afterTransition:function(){},_runTransition:function(){},_resetShowingBgPartPosition:function(){},_handleViewerStateChanged:function(){},_updateBgDefinitionPosition:function(){},_isMobile:function(){},_calculateWidth:function(){},_calculateHeight:function(){},_getDeviceWidth:function(){},_getCustomBackground:function(){}})}),define.experiment.newComponent("wysiwyg.viewer.components.background.DesktopBackground.BackgroundPerPage",function(a){var b=a;b.inherits("wysiwyg.viewer.components.background.AbstractBackground"),b.statics({CUSTOM_PAGE_BG_PROPERTY:"desktopBg"}),b.dataTypes(["BackgroundImage"]),b.methods({_getDeviceWidth:function(){return this.resources.W.Viewer.getDocWidth()},_calculateWidth:function(){return document.body.clientWidth+"px"},_calculateHeight:function(){var a=0;return a=this._isBgAttachmentFixed?document.getSize().y:document.getHeight()+document.getScrollHeight()||50,a+"px"},_isMobile:function(){return!1},_beforeTransition:function(){var a="background-attachment";"fixed"===this._showingBgPart.getStyle(a)&&this._showingBgPart.setStyle(a,""),"fixed"===this._hiddenBgPart.getStyle(a)&&this._hiddenBgPart.setStyle(a,"")},_afterTransition:function(){this._restoreBackgroundAttachmentValue(this._showingBgPart),this._restoreBackgroundAttachmentValue(this._hiddenBgPart)},_restoreBackgroundAttachmentValue:function(a){var b=this._getNodeBgStyle(a)["background-attachment"];a.setStyle("background-attachment",b)},_runTransition:function(){if(this._arePageBGsDifferent()){var a=this._getPageTransition();this._resetBgPartsStyles(a),a.anim?this._runAnimation(a):(console.error("Page transition '%s' not found.",a.name),this._onTransitionComplete())}},_getPageTransition:function(){var a=this.resources.W.Viewer.getPageGroup().getComponentProperty("transition");return{name:a,anim:this._transitionUtils.getTransition(a)}},_runAnimation:function(a){var b=a.name,c=a.anim,d=this._getAnimationDuration(b),e=this._getAnimationDirection(b);c(this._showingBgPart,this._hiddenBgPart,e,d,this._onTransitionComplete)},_getAnimationDuration:function(a){var b=this._transitionNameToKey[a];return b?Constants.TransitionDefaults[b].durationInSec:Constants.TransitionDefaults.NONE.durationInSec},_getAnimationDirection:function(a){return Constants.TransitionTypes.SWIPE_VERTICAL_FULLSCREEN!==a?this.DEFAULT_TRANSITION_DIRECTION:this.VERTICAL_TRANSITION_DIRECTION},_resetShowingBgPartPosition:function(){this._showingBgPart.setStyle("left","0"),this._showingBgPart.setStyle("top","0")},_getBgDeviceType:function(){return"siteBg"},_updateBgDefinitionPosition:function(a){a&&(a.left=0,a.top=0)},_handleViewerStateChanged:function(a){a&&"DESKTOP"===a.viewerMode||!a&&this._isDesktopView()?(this.setState("VISIBLE","visibility"),this._renderBackground(),this._handleResize()):this.setState("INVISIBLE","visibility")},_getCustomBackground:function(a){return a?a.desktop:null}})}),define.experiment.newComponent("wysiwyg.viewer.components.background.MobileBackground.BackgroundPerPage",function(a){var b=a;b.inherits("wysiwyg.viewer.components.background.AbstractBackground"),b.statics({CUSTOM_PAGE_BG_PROPERTY:"mobileBg",MOBILE_BOTTOM_DECORATION_IN_EDITOR_HEIGHT:65}),b.dataTypes(["BackgroundImage"]),b.methods({_getDeviceWidth:function(){return this.resources.W.Viewer.getDocWidth()},_calculateWidth:function(){return this._getDeviceWidth()+"px"},_calculateHeight:function(){var a=parseInt(this._siteHeight);return isNaN(a)&&(a=0),this.resources.W.Config.env.$isEditorViewerFrame&&(a=Math.max(document.getSize().y-this.MOBILE_BOTTOM_DECORATION_IN_EDITOR_HEIGHT,a)),a+"px"},_isMobile:function(){return!0},_getBgDeviceType:function(){return"mobileBg"},_runTransition:function(){this._arePageBGsDifferent()&&this._onTransitionComplete()},_resetShowingBgPartPosition:function(){this._showingBgPart.setStyle("top","0"),this._showingBgPart.setStyle("left","0")},_updateBgDefinitionPosition:function(a){if(a)if(a.top=(this._isBgAttachmentFixed?$(document.body).scrollTop:0)+"px",this._isOnPublicMobileDevice())a.left="0px";else{var b=$(document.body).getSize().x,c=this._getDeviceWidth();a.left=.5*(b-c)+"px"}},_isOnPublicMobileDevice:function(){return this.resources.W.Config.env.isPublicViewer()&&!this.resources.W.Config.forceMobileOptimizedViewOn()},_handleViewerStateChanged:function(a){a&&"DESKTOP"!==a.viewerMode||!a&&this._isMobileView()?(this.setState("VISIBLE","visibility"),this._renderBackground(),this.updateRenderedBGWithHeight(this._calculateHeight()),this._handleResize()):this.setState("INVISIBLE","visibility")},_handlePreviewModeChangeToEditor:function(a){if(this._handleResize(),"PREVIEW"===a)this._handleViewerStateChanged(),this._resetShowingBgPartPosition();else{var b={};this._updateBgDefinitionPosition(b),this._bgViewPort.setStyle("left",b.left)}},_getCustomBackground:function(a){return a?a.mobile:null}})}),define.experiment.Class("wysiwyg.viewer.components.classes.SoundUtils.Mp3FromGoogleCdn.New",function(a){var b=a;b.methods({getAudioFullUrl:function(a){var b;return 0===a.indexOf("http://")?a:(b="http://storage.googleapis.com/static.wixstatic.com/mp3/","/"!==b[b.length-1]&&(b+="/"),b+=a)}})}),define.experiment.newClass("wysiwyg.viewer.components.classes.TextBrightnessModifier.MobileTextBrightness",function(a){var b=a;b.inherits("wysiwyg.viewer.components.classes.TextModifierBase"),b.resources(["W.Theme","W.Utils"]),b.methods({initialize:function(a,b){this.parent(a,b),this._brightness=a},_getNodeDesktopValue:function(a){return this.resources.W.Utils.mobile.getFontColor(a,W.Theme)},setBrightness:function(a){this._brightness=a},_updateNodeNewValue:function(a,b){var c,d;b&&(d=this._brightColorIfNeeded(b),c=this.resources.W.Utils.getNewColorAccordingToBrightness(d,this._brightness),a.setStyle("color",c))},_brightColorIfNeeded:function(a){return"#000000"===a.getHex()&&this._brightness>1?this.resources.W.Theme.getColorClassInstance("#121212"):a}})}),define.experiment.newClass("wysiwyg.viewer.components.classes.TextModifierBase.MobileTextBrightness",function(a){var b=a;b.methods({initialize:function(a,b){this._parentNode=b,this._cache=[]},emptyCache:function(){this._cache=[]},updateDomAccordingToNewValue:function(){this._updateCache(),_.forEach(this._cache,function(a){this._updateNodeNewValue(a.node,a.value)},this)},_getNodeDesktopValue:function(){},_updateNodeNewValue:function(){},_updateCache:function(){_.isEmpty(this._cache)&&this._populateCache(this._parentNode)},_populateCache:function(a){if(a.children)for(var b=0;b<a.children.length;b++){var c=a.children[b];this._populateCache(c);var d=this._getNodeDesktopValue(c);d&&this._cache.push({value:d,node:c})}}})}),define.experiment.newClass("wysiwyg.viewer.components.classes.TextScalingLayoutCalculator.MobileTextBrightness",function(a){var b=a;b.inherits("wysiwyg.common.utils.TextCalculator"),b.methods({getNodeGlobalPosition:function(a){return a.getPosition()},getSiteNode:function(){return W.Viewer.getSiteNode()},getPositionOffset:function(){return{x:0,y:0}}})}),define.experiment.newClass("wysiwyg.viewer.components.classes.TextScalingModifier.MobileTextBrightness",function(a){var b=a;b.inherits("wysiwyg.viewer.components.classes.TextModifierBase"),b.utilize(["wysiwyg.viewer.components.classes.TextScalingLayoutCalculator"]),b.methods({initialize:function(a,b){this.parent(a,b),this._scale=a,this._mostCommonTextSize=null,this._layoutCalculator=new this.imports.TextScalingLayoutCalculator},setScale:function(a){this._scale=a},emptyCache:function(){this.parent(),this._mostCommonTextSize=null},getMostCommonTextSizeBeforeScaling:function(){return this._mostCommonTextSize||this.calculateMostCommonTextSize(),this._mostCommonTextSize},calculateMostCommonTextSize:function(){if(this._parentNode){this.emptyCache(),this._updateCache(),this._addTextLengthToElementSizeCache();var a=this._createTextSizeToElementsMap(),b=this._createTextSizeToTextLengthMap(a);this._mostCommonTextSize=this._getMaxTextSize(b)}},getEffectiveTextHeight:function(a){return this._layoutCalculator.getTextOverallBorders(a).height},_addTextLengthToElementSizeCache:function(){for(var a,b,c,d,e=this._cache.length-1;e>=0;e--){for(a=this._cache[e].node,d=a.textContent.replace(/ /g,"").length,b=e-1;b>=0&&a.getElement(c=this._cache[b].node);)d-=c.textContent.replace(/ /g,"").length,b--;this._cache[e].length=d}},_createTextSizeToElementsMap:function(){return _.groupBy(this._cache,function(a){return a.value})},_createTextSizeToTextLengthMap:function(a){var b={};return _.forEach(a,function(a,c){b[c]=this._sumElementsTextLength(a)},this),b},_sumElementsTextLength:function(a){return 1===a.length?_.first(a).length:_.reduce(a,function(a,b){return"object"===typeOf(a)&&(a=a.length),b.length+a})},_getMaxTextSize:function(a){var b,c=_.max(a);return _.forEach(a,function(a,d){return a===c?(b=d,void 0):void 0}),parseFloat(b)},_getNodeDesktopValue:function(a){return W.Utils.mobile.getFontSize(a,W.Theme)},_updateNodeNewValue:function(a,b){var c;b&&(c=Math.round(W.Utils.mobile.convertFontSizeToMobile(b,this._scale)),a.setStyle("fontSize",c))}})}),define.experiment.component("wysiwyg.viewer.components.mobile.TinyMenu.FixedTinyMenu",function(a,b){var c=a;c.traits(["wysiwyg.viewer.components.traits.FixedComponentTrait"]),c.methods({isFixedPositioned:function(){return"fixed"===this._$pos}})}),define.experiment.component("wysiwyg.viewer.components.mobile.TinyMenu.TinyTextAlign",function(a,b){var c=a,d=b;c.propertiesSchemaType("TinyMenuProperties"),c.states({direction:["right","left","center"]}),c.fields({EDITOR_META_DATA:{general:{settings:!0,design:!1},mobile:{custom:[{label:"FPP_DESIGN_LABEL",command:"WEditorCommands.ShowMobileMenuPanel"},{label:"FPP_NAVIGATE_LABEL",command:"WEditorCommands.MobilePages",commandParameter:{galleryConfigID:"pagesPanel"}}],disablePropertySplit:!0}}}),c.methods({_initMenu:d.after(function(){var a=this.getComponentProperty("direction");this.setState(a,"direction")}),_createComponentProperties:function(){this.parent(),this._properties.setIsPersistent(!0)}})}),define.experiment.component("wysiwyg.viewer.components.sm.SMApplyForMembership.siteMemberTranslated",function(a,b){var c=a;c.methods({_onFormSuccess:function(){var a=this._emailField._data.get("text"),b=this._keys.SMApply_Success2;b=this._formatString(b,[a]);var c=this._keys.SMApply_Success1;this._container.showConfirmation({message:c})},_formatString:function(a,b){var c=0;return b.map(function(b){var d="{"+c+"}";a=a.replace(d,b),c++}),a}})}),define.experiment.component("wysiwyg.viewer.components.sm.SMContainer.HashRefactor",function(a){var b=a;b.methods({closeAndRedirect:function(){if(this._closeSMContainer(),this._hashRedirectTo){var a=this.resources.W.Utils.hash.getHashObject(this._hashRedirectTo);this.resources.W.Utils.hash.setHash_new(a,!0),window.location.hash=this._hashRedirectTo}location.reload()},closeAndRedirectTo:function(a){if(this._closeSMContainer(),this._hashRedirectTo){var b=this.resources.W.Utils.hash.getHashObject(this._hashRedirectTo);this.resources.W.Utils.hash.setHash_new(b,!0),window.location.hash=this._hashRedirectTo}a?this._directToUrl(a):this._reload()}})}),define.experiment.component("wysiwyg.viewer.components.sm.SMContainer.SiteMemberTranslated",function(a,b){var c=a,d=b;c.statics({INTENTS:{LOGIN:"LOGIN",REGISTER:"REGISTER",UPDATE_USER:"UPDATE",EMAIL_RESET_PASSWORD:"EMAILRESETPASSWORD",RESET_PASSWORD:"RESETPASSWORD"},langKeys:{en:{SMContain_Cancel:"Cancel",SMContainer_Need_Log_In:"To view this page, you need to be logged in.",SMContainer_Show_Confirm:"This page is protected with a member login. Your users will be able to see this page once they are logged in.",SMContainer_Show_Confirm2:" To manage your site's members, go to your site in My Account and click Site Members",SMContainer_OK:"OK"},es:{SMContain_Cancel:"Cancelar",SMContainer_Need_Log_In:"Para ver esta pÃ¡gina, tienes que iniciar sesiÃ³n.",SMContainer_Show_Confirm:"Esta pÃ¡gina estÃ¡ protegida con un login de miembro. Tus usuarios podrÃ¡n ver esta pÃ¡gina una vez hayan iniciado sesiÃ³n.",SMContainer_Show_Confirm2:"Para administrar los miembros de tu sitio, ve a tu sitio y en Mi Cuenta haz clic en Miembros del Sitio",SMContainer_OK:"OK"},de:{SMContain_Cancel:"Abbrechen",SMContainer_Need_Log_In:"Sie mÃ¼ssen angemeldet sein, um diese Seite zu sehen.",SMContainer_Show_Confirm:"Diese Seite ist mit der Mitgliederanmeldung geschÃ¼tzt. Ihre Besucher kÃ¶nnen diese Seite erst sehen, wenn diese angemeldet sind.",SMContainer_Show_Confirm2:'Gehen Sie zu "Mein Konto" und klicken Sie auf "Site-Mitglieder", um Ihre Mitglieder zu verwalten.',SMContainer_OK:"OK"},fr:{SMContain_Cancel:"Annulation",SMContainer_Need_Log_In:"Pour voir cette page, vous devez Ãªtre connectÃ©",SMContainer_Show_Confirm:"Cette page est protÃ©gÃ©e par une connexion membre. Vos utilisateurs verront cette page une fois qu'ils seront connectÃ©s.",SMContainer_Show_Confirm2:"Pour gÃ©rer vos membres, allez sur votre site dans Mon Compte et cliquez sur Membres du Site.",SMContainer_OK:"OK"},it:{SMContain_Cancel:"Cancella",SMContainer_Need_Log_In:"Per visualizzare questa pagina, devi aver fatto il login.",SMContainer_Show_Confirm:"Questa pagina Ã¨ protetta da un login membri. I tuoi utenti saranno in grado di vedere questa pagina una volta che avranno effettuato l'accesso.",SMContainer_Show_Confirm2:"Per gestire i membri del tuo sito, vai nel tuo sito ne Il Mio Account e clicca Membri del Sito",SMContainer_OK:"OK"},ja:{SMContain_Cancel:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«",SMContainer_Need_Log_In:"ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ã€ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„",SMContainer_Show_Confirm:"ã“ã®ãƒšãƒ¼ã‚¸ã¯ä¼šå“¡å°‚ç”¨ãƒšãƒ¼ã‚¸ã§ã™ã€‚ã‚µã‚¤ãƒˆè¨ªå•è€…ã¯ãƒ­ã‚°ã‚¤ãƒ³å¾Œã€ã“ã®ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚",SMContainer_Show_Confirm2:"ã‚µã‚¤ãƒˆä¼šå“¡ã®ç®¡ç†ã¯ã€ãƒžã‚¤ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã€Œã‚µã‚¤ãƒˆä¼šå“¡ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§è¡Œã„ã¾ã™ã€‚",SMContainer_OK:"OK"},ko:{SMContain_Cancel:"ì·¨ì†Œ",SMContainer_Need_Log_In:"ì´ íŽ˜ì´ì§€ë¥¼ ë³´ë ¤ë©´ ë¡œê·¸ì¸í•˜ì„¸ìš”.",SMContainer_Show_Confirm:"íšŒì› ë¡œê·¸ì¸ ê¸°ëŠ¥ìœ¼ë¡œ ë³´í˜¸ë˜ì–´ ìžˆëŠ” íŽ˜ì´ì§€ìž…ë‹ˆë‹¤. ë°©ë¬¸ìžë“¤ì€ ë¡œê·¸ì¸ í›„ì— ì´ íŽ˜ì´ì§€ì— ì ‘ì†í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.",SMContainer_Show_Confirm2:'ë‚´ ì‚¬ì´íŠ¸ íšŒì›ë“¤ì„ ê´€ë¦¬í•˜ë ¤ë©´ "ë‚´ ê³„ì •" íŽ˜ì´ì§€ì—ì„œ ë‚´ ì‚¬ì´íŠ¸ë¡œ ì´ë™í•´ "ì‚¬ì´íŠ¸ íšŒì›"ì„ í´ë¦­í•©ë‹ˆë‹¤.',SMContainer_OK:"í™•ì¸"},pl:{SMContain_Cancel:"Anuluj",SMContainer_Need_Log_In:"Musisz byÄ‡ zalogowany, aby zobaczyÄ‡ tÄ™ stronÄ™.",SMContainer_Show_Confirm:"Ta strona jest zabezpieczona loginem witryny. Twoi uÅ¼ytkownicy zobaczÄ… treÅ›Ä‡ tej strony po zalogowaniu.",SMContainer_Show_Confirm2:"Aby zarzÄ…dzaÄ‡ uÅ¼ytkownikami twojej witryny, idÅº do Mojego Konta i kliknij na Login Witryny.",SMContainer_OK:"OK"},pt:{SMContain_Cancel:"Cancelar",SMContainer_Need_Log_In:"Para ver esta pÃ¡gina, vocÃª precisa fazer login.",SMContainer_Show_Confirm:"Esta pÃ¡gina estÃ¡ protegida com login de membros. Seus usuÃ¡rios poderÃ£o ver esta pÃ¡gina depois de fazerem login.",SMContainer_Show_Confirm2:"Para gerenciar os membros de seu site, vÃ¡ para seu site em Minha Conta e clique em Membros do Site",SMContainer_OK:"OK"},ru:{SMContain_Cancel:"ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ",SMContainer_Need_Log_In:"Ð”Ð»Ñ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",SMContainer_Show_Confirm:"Ð¡Ñ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÐ¼. ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ ÑÐ¼Ð¾Ð³ÑƒÑ‚ ÑƒÐ²Ð¸Ð´ÐµÑ‚ÑŒ ÑÑ‚Ñƒ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐµÑÐ»Ð¸ Ð¾Ð½Ð¸ Ð·Ð°Ð»Ð¾Ð³Ð¸Ð½Ð¸Ð»Ð¸ÑÑŒ Ð½Ð° ÑÐ°Ð¹Ñ‚.",SMContainer_Show_Confirm2:"Ð”Ð»Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÐ¼Ð¸ ÑÐ°Ð¹Ñ‚Ð° Ð¿ÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð² ÐœÐ¾Ð¹ ÐÐºÐºÐ°ÑƒÐ½Ñ‚ Ð¸ Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ Ð½Ð° ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ ÑÐ°Ð¹Ñ‚Ð°",SMContainer_OK:"OK"},tr:{SMContain_Cancel:"Ä°ptal",SMContainer_Need_Log_In:"Bu sayfayÄ± gÃ¶rÃ¼ntÃ¼lemek iÃ§in giriÅŸ yapmanÄ±z gerekir.",SMContainer_Show_Confirm:"Bu sayfa Ã¼ye giriÅŸiyle korunmaktadÄ±r. KullanÄ±cÄ±larÄ±nÄ±z giriÅŸ yaptÄ±ktan sonra bu sayfayÄ± gÃ¶rebilecekler.",SMContainer_Show_Confirm2:"Sitenizin Ã¼yelerini yÃ¶netmek iÃ§in HesabÄ±m'dan sitenize gidip Site Ãœyeleri Ã¼stÃ¼nde tÄ±klatÄ±n.",SMContainer_OK:"OK"}},_keys:{}}),c.methods({_onAllSkinPartsReady:d.after(function(){this._updateTranslation()}),_setDictionary:function(a){this._keys=a&&this.langKeys[a]?this.langKeys[a]:this.langKeys.en},_updateTranslation:function(){this._skinParts.cancel.innerHTML=this._keys.SMContain_Cancel,this._skinParts.okButton.value=this._keys.SMContainer_OK},_initializeForm:function(a){this._currentForm=a;var b=this._skinParts.title;b.set("html",this._currentForm.getDisplayName());var c=this._skinParts.submitButton;c.set("value",this._currentForm.getButtonLabel());var d=this._skinParts.note,e=this._currentForm.getSubHeaderElement();if(e){var f=e.el,g=e.intent;f.getElements("a").addEvent("click",function(){this.resources.W.SiteMembers.openSiteMembersPopup({intent:g,disableCancel:this._disableCancel,openedByPageSecurity:this._openedByPageSecurity,hashRedirectTo:this._hashRedirectTo,cameFromHashChange:this._cameFromHashChange,formData:this._formData,dialogsLanguage:this._args.dialogsLanguage})}.bind(this)),d.adopt(f.childNodes)}this._addCurrentFormEvents(),this._setDictionary(this._args.dialogsLanguage),this._openedByPageSecurity&&(this.resources.W.Config.env.$isPublicViewerFrame||this.resources.W.Config.isInDebugMode()?(this._skinParts.infoTitle.set("text",this._keys.SMContainer_Need_Log_In),this._skinParts.note.setStyle("float","right"),this._skinParts.infoTitle.setStyle("display","block")):this.showConfirmation({message:"".concat(this._keys.SMContainer_Show_Confirm,this._keys.SMContainer_Show_Confirm2)},function(){this.reportAuthStatusChange(!0),this._closeSMContainer()}.bind(this)))}})}),define.experiment.component("wysiwyg.viewer.components.sm.SMForm.SiteMemberTranslated",function(a,b){var c=a,d=b;c.statics({PASS_MIN_LEN:4,PASS_MAX_LEN:15,ERR_MAP:{GENERAL_ERR:"Server error. try again later.",VAL_ERR_PASSWORD_BLANK:"Password cannot be blank",VAL_ERR_PASSWORD_RETYPE:"Passwords are not the same",VAL_ERR_PASSWORD_LENGTH:"Password length must be between {0} and {1}",VAL_ERR_EMAIL_BLANK:"Email cannot be blank",VAL_ERR_EMAIL_INVALID:"Email is invalid",VAL_ERR_NON_ASCII_CHARS:"Password must contain only ASCII characters","-19999":"Unknown user","-19995":"Email is already taken","-19972":"Invalid token","-19988":"Validation Error","-19984":"Invalid Session","-19976":"Wrong email or password","-19958":"Your member request is waiting approval from the site owner","-19980":"Blocked by site owner"},INTENTS:{LOGIN:"LOGIN",REGISTER:"REGISTER",UPDATE_USER:"UPDATE",EMAIL_RESET_PASSWORD:"EMAILRESETPASSWORD",RESET_PASSWORD:"RESETPASSWORD"},LABELS:{EMAIL:"Email",PASSWORD:"Password",RE_PASSWORD:"Retype password",REMEMBER_ME:"Remember Me"},langKeys:{en:{SMRegister_sign_up:"Sign up",SMRegister_GO:"GO",SMRegister_Already_Have_User:"I already have a user",SMRegister_Login:"Login",SMForm_Email:"Email",SMForm_Password:"Password",SMForm_Retype_Password:"Retype password",SMLogin_Remember_Me:"Remember Me",SMLogin_Forgot_Password:"Forgot your password?",SMLogin_Login:"Login",SMLogin_Sign_UP:"Or {0}Sign up{1}",SMResetPassMail_title:"Reset Password",SMResetPassMail_Back_Login:"Back to Login",SMResetPassMail_Enter_Email:"Please enter your email address",SMResetPassMail_confirmation_title:"Please check your email",SMResetPassMail_confirmation_msg:"Weâ€™ve sent you an email with a link that will allow you to reset your password",SMResetPass_Message:"To set your new password, please enter it in both fields below. ",SMResetPass_New_Password:"Enter a new password",SMResetPass_Retype_Password:"Type again:",SMResetPass_Continue:"Continue",SMResetPass_Reset_Succ:"Youâ€™ve successfully reset your password.",SMResetPass_Reset_Fail:"Password could not have been changed. Try again later.",SMProfile_Update_Details:"Update your details",SMProfile_Update:"Update",SMApply_Success1:"Success! Your member login request has been sent and is awaiting approval.",SMApply_Success2:"The site administrator will notify you via email( {0} ) once your request has been approved ",SMForm_Error_General_Err:"Server error. try again later.",SMForm_Error_Password_Blank:"Password cannot be blank",SMForm_Error_Password_Retype:"Passwords are not the same",SMForm_Error_Password_Length:"Password length must be between {0} and {1}",SMForm_Error_Email_Blank:"Email cannot be blank",SMForm_Error_Email_Invalid:"Email is invalid",SMForm_Error_Non_Ascii_Chars:"Password must contain only ASCII characters",SMForm_Error_19999:"Unknown user",SMForm_Error_19995:"Email is already taken",SMForm_Error_19972:"Invalid token",SMForm_Error_19988:"Validation Error",SMForm_Error_19984:"Invalid Session",SMForm_Error_19976:"Wrong email or password",SMForm_Error_19958:"Your member request is waiting approval from the site owner",SMForm_Error_19980:"Blocked by site owner"},es:{SMRegister_sign_up:"RegÃ­strate",SMRegister_GO:"ENTRAR",SMRegister_Already_Have_User:"Ya tengo un usuario",SMRegister_Login:"Inicia SesiÃ³n",SMForm_Email:"Email",SMForm_Password:"Clave",SMForm_Retype_Password:"Escribe de nuevo la clave",SMLogin_Remember_Me:"RecuÃ©rdame",SMLogin_Forgot_Password:"Â¿Has olvidado tu clave?",SMLogin_Login:"Inicia sesiÃ³n",SMLogin_Sign_UP:"O {0}RegÃ­strate{1}",SMResetPassMail_title:"Restablecer Clave",SMResetPassMail_Back_Login:"Volver a Iniciar SesiÃ³n",SMResetPassMail_Enter_Email:"Por favor escribe tu direcciÃ³n de correo",SMResetPassMail_confirmation_title:"Por favor revisa tu correo",SMResetPassMail_confirmation_msg:"Te hemos enviado un email con un enlace que te permitirÃ¡ restablecer tu clave",SMResetPass_Message:"Para configurar tu nueva clave, por favor rellena ambos campos a continuaciÃ³n. ",SMResetPass_New_Password:"Escribe una nueva clave",SMResetPass_Retype_Password:"EscrÃ­bela de nuevo:",SMResetPass_Continue:"Continuar",SMResetPass_Reset_Succ:"Â¡Has restablecido tu clave con Ã©xito!",SMResetPass_Reset_Fail:"La clave no se pudo cambiar. IntÃ©ntalo de nuevo mÃ¡s tarde.",SMProfile_Update_Details:"Update your details",SMProfile_Update:"Update",SMApply_Success1:"Â¡Enhorabuena! Tu solicitud de login de miembros ha sido enviada y estÃ¡ pendiente de aprobaciÃ³n.",SMApply_Success2:"El administrador del sitio te notificarÃ¡ a travÃ©s de un email ( {0} una vez tu solicitud sea aprobada ",SMForm_Error_General_Err:"Error del servidor. intÃ©ntalo de nuevo mÃ¡s tarde.",SMForm_Error_Password_Blank:"El campo de la clave no puede estar en blanco",SMForm_Error_Password_Retype:"Las claves no son las mismas",SMForm_Error_Password_Length:"La longitud de la clave debe ser entre {0} y {1}",SMForm_Error_Email_Blank:"El campo del email no puede estar en blanco",SMForm_Error_Email_Invalid:"Email invÃ¡lido",SMForm_Error_Non_Ascii_Chars:"La clave debe contener sÃ³lo caracteres ASCII",SMForm_Error_19999:"Usuario desconocido",SMForm_Error_19995:"Este email ya estÃ¡ siendo usado",SMForm_Error_19972:"Token invÃ¡lido",SMForm_Error_19988:"Error de ValidaciÃ³n",SMForm_Error_19984:"SesiÃ³n InvÃ¡lida",SMForm_Error_19976:"Email o clave incorrecto/a",SMForm_Error_19958:"La solicitud de miembro estÃ¡ a la espera de la aprobaciÃ³n por parte del dueÃ±o del sitio.",SMForm_Error_19980:"Bloqueado por el dueÃ±o del sitio"},de:{SMRegister_sign_up:"Registrieren",SMRegister_GO:"Los",SMRegister_Already_Have_User:"Ich bin bereits Mitglied",SMRegister_Login:"Ich bin bereits Mitglied",SMForm_Email:"E-Mail-Adresse",SMForm_Password:"Passwort",SMForm_Retype_Password:"Passwort erneut eingeben",SMLogin_Remember_Me:"Angemeldet bleiben",SMLogin_Forgot_Password:"Passwort vergessen?",SMLogin_Login:"Anmelden",SMLogin_Sign_UP:"Oder {0}registrieren{1}",SMResetPassMail_title:"Passwort zurÃ¼cksetzen",SMResetPassMail_Back_Login:"ZurÃ¼ck zur Anmeldung",SMResetPassMail_Enter_Email:"itte geben Sie Ihre E-Mail-Adresse ein.",SMResetPassMail_confirmation_title:"Bitte prÃ¼fen Sie Ihren Posteingang.",SMResetPassMail_confirmation_msg:"Wir haben Ihnen eine E-Mail mit einem Link geschickt, der es Ihnen ermÃ¶glicht Ihr Passwort zurÃ¼ckzusetzen.",SMResetPass_Message:"Bitte fÃ¼llen Sie beide Felder unten aus, um ein neues Passwort festzulegen. ",SMResetPass_New_Password:"Neues Passwort eingeben",SMResetPass_Retype_Password:"Erneut eingeben:",SMResetPass_Continue:"Fortfahren",SMResetPass_Reset_Succ:"Sie haben Ihr Passwort erfolgreich zurÃ¼ckgesetzt.",SMResetPass_Reset_Fail:"Passwort konnte nicht geÃ¤ndert werden. Probieren Sie es spÃ¤ter nochmal.",SMProfile_Update_Details:"Update your details",SMProfile_Update:"Update",SMApply_Success1:"Vielen Dank! Ihre Anfrage zur Mitgliederanmeldung wurde versandt und wartet auf BestÃ¤tigung.",SMApply_Success2:"Der Administrator der Website wird Sie per E-Mail informieren, ( {0} ) sobald Ihre Anfrage bestÃ¤tigt wurde.  ",SMForm_Error_General_Err:"Serverfehler. Versuchen Sie es spÃ¤ter nochmal.",SMForm_Error_Password_Blank:"Passwort kann nicht leer sein.",SMForm_Error_Password_Retype:"PasswÃ¶rter stimmen nicht Ã¼berein.",SMForm_Error_Password_Length:"PasswortlÃ¤nge muss zwischen {0} und {1} sein.",SMForm_Error_Email_Blank:"E-Mail-Adresse kann nicht leer sein.",SMForm_Error_Email_Invalid:"UngÃ¼ltige E-Mail-Adresse",SMForm_Error_Non_Ascii_Chars:"Passwort darf nur ASCII-Zeichen beinhalten.",SMForm_Error_19999:"Unbekannter Nutzer",SMForm_Error_19995:"Diese E-Mail-Adresse existiert bereits.",SMForm_Error_19972:"UngÃ¼ltiges Zeichen",SMForm_Error_19988:"Validierungsfehler",SMForm_Error_19984:"UngÃ¼ltige Sitzung",SMForm_Error_19976:"Falsche E-Mail-Adresse oder Passwort.",SMForm_Error_19958:"Ihre Anfrage auf Mitgliedschaft wartet auf BestÃ¤tigung vom Betreiber der Website.",SMForm_Error_19980:"Vom Betreiber der Website geblockt"},fr:{SMRegister_sign_up:"Inscription",SMRegister_GO:"OK",SMRegister_Already_Have_User:"J'ai dÃ©jÃ  un nom d'utilisateur",SMRegister_Login:"Connexion",SMForm_Email:"Email",SMForm_Password:"Mot de passe",SMForm_Retype_Password:"Confirmez mot de passe",SMLogin_Remember_Me:"Se Souvenir de Moi",SMLogin_Forgot_Password:"Mot de passe oubliÃ© ?",SMLogin_Login:"Connexion",SMLogin_Sign_UP:"Ou {0}Inscrivez-vous{1}",SMResetPassMail_title:"RÃ©initialiser Mot de Passe",SMResetPassMail_Back_Login:"Retour Ã  Connexion",SMResetPassMail_Enter_Email:"Veuillez saisir votre adresse email",SMResetPassMail_confirmation_title:"Veuillez vÃ©rifier vos emails",SMResetPassMail_confirmation_msg:"Un email avec un lien pour rÃ©initialiser votre mot de passe vous a Ã©tÃ© envoyÃ©",SMResetPass_Message:"Pour dÃ©finir votre nouveau mot de passe, veuillez le saisir dans les champs ci-dessous. ",SMResetPass_New_Password:"Saisissez un nouveau mot de passe",SMResetPass_Retype_Password:"Confirmez le mot de passe :",SMResetPass_Continue:"Continuer",SMResetPass_Reset_Succ:"Vous avez rÃ©initialisÃ© votre mot de passe avec succÃ¨s ",SMResetPass_Reset_Fail:"Votre mot de passe n'a pas pu Ãªtre modifiÃ©. Veuillez rÃ©essayer ultÃ©rieurement.",SMProfile_Update_Details:"Update your details",SMProfile_Update:"Update",SMApply_Success1:"Bravo ! Votre demande de connexion membre a Ã©tÃ© envoyÃ©e et est en attente d'approbation.",SMApply_Success2:"L'administrateur du site vous informera par email( {0} ) lorsque votre demande aura Ã©tÃ© approuvÃ©e ",SMForm_Error_General_Err:"Erreur de serveur. Veuillez rÃ©essayer plus tard.",SMForm_Error_Password_Blank:"Veuillez saisir le mot de passe",SMForm_Error_Password_Retype:"Les mots de passe ne sont pas identiques",SMForm_Error_Password_Length:"La longueur du mot de passe doit Ãªtre entre {0} et {1}",SMForm_Error_Email_Blank:"Veuillez saisir l'Email",SMForm_Error_Email_Invalid:"Email invalide",SMForm_Error_Non_Ascii_Chars:"Le mot de passe doit contenir uniquement des caractÃ¨res ASCII",SMForm_Error_19999:"Utilisateur inconnu",SMForm_Error_19995:"Cet email est dÃ©jÃ  utilisÃ©",SMForm_Error_19972:"Token invalide",SMForm_Error_19988:"Erreur Validation",SMForm_Error_19984:"Session Invalide",SMForm_Error_19976:"L' email ou le mot de passe est incorrect",SMForm_Error_19958:"Votre demande est en attente d'approbation du propriÃ©taire du site",SMForm_Error_19980:"BloquÃ© par le propriÃ¨taire du site"},it:{SMRegister_sign_up:"Iscriviti",SMRegister_GO:"VAI",SMRegister_Already_Have_User:"Sono un utente esistente",SMRegister_Login:"Login",SMForm_Email:"Email",SMForm_Password:"Password",SMForm_Retype_Password:"Digita nuovamente la password",SMLogin_Remember_Me:"Ricordami",SMLogin_Forgot_Password:"Hai dimenticato la tua password?",SMLogin_Login:"Login",SMLogin_Sign_UP:"Oppure {0}Iscriviti{1}",SMResetPassMail_title:"Ripristina Password",SMResetPassMail_Back_Login:"Torna al Login",SMResetPassMail_Enter_Email:"Ti preghiamo di inserire il tuo indirizzo email",SMResetPassMail_confirmation_title:"Ti preghiamo di controllare la tua email",SMResetPassMail_confirmation_msg:"Ti abbiamo inviato un'email con un link che ti permetterÃ  di ripristinare la tua password",SMResetPass_Message:"Per impostare la tua nuova password, inseriscila per cortesia in entrambi i campi qui sotto. ",SMResetPass_New_Password:"Inserisci una nuova password",SMResetPass_Retype_Password:"Digita nuovamente:",SMResetPass_Continue:"Continua",SMResetPass_Reset_Succ:"Hai ripristinato con successo la tua password.",SMResetPass_Reset_Fail:"Non Ã¨ stato possibile modificare la password. Prova nuovamente piÃ¹ tardi.",SMProfile_Update_Details:"Update your details",SMProfile_Update:"Update",SMApply_Success1:"Successo! La tua richiesta di login membro Ã¨ stata inviata ed Ã¨ in attesa di approvazione.",SMApply_Success2:"L'amministratore del sito ti notificherÃ  via email( {0} ) una volta che la tua richiesta Ã¨ stata accettata ",SMForm_Error_General_Err:"Errore del server. Prova nuovamente piÃ¹ tardi.",SMForm_Error_Password_Blank:"Il campo Password non puÃ² essere lasciato in bianco",SMForm_Error_Password_Retype:"Le password non sono uguali",SMForm_Error_Password_Length:"La lunghezza della password dev'essere compresa tra {0} e {1}",SMForm_Error_Email_Blank:"Il campo Email non puÃ² essere lasciato in bianco",SMForm_Error_Email_Invalid:"L'Email non Ã¨ valida",SMForm_Error_Non_Ascii_Chars:"La password deve contenere solo caratteri ASCII",SMForm_Error_19999:"Utente sconosciuto",SMForm_Error_19995:"L'Email Ã¨ giÃ  in utilizzo",SMForm_Error_19972:"Token non valido",SMForm_Error_19988:"Errore di Convalida",SMForm_Error_19984:"Sessione non valida",SMForm_Error_19976:"Email o password non corretta",SMForm_Error_19958:"La tua richiesta membro Ã¨ in attesa di approvazione da parte per proprietario del sito",SMForm_Error_19980:"Bloccato dal proprietario del sito"},ja:{SMRegister_sign_up:"æ–°è¦ç™»éŒ²",SMRegister_GO:"GO",SMRegister_Already_Have_User:"ç™»éŒ²æ¸ˆã¿ã®æ–¹ã¯ã“ã¡ã‚‰ã‹ã‚‰",SMRegister_Login:"ãƒ­ã‚°ã‚¤ãƒ³",SMForm_Email:"ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹",SMForm_Password:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",SMForm_Retype_Password:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å†å…¥åŠ›ã—ã¦ãã ã•ã„",SMLogin_Remember_Me:"ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸã¾ã¾ã«ã™ã‚‹",SMLogin_Forgot_Password:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¿˜ã‚ŒãŸ",SMLogin_Login:"ãƒ­ã‚°ã‚¤ãƒ³",SMLogin_Sign_UP:"ï¼ {0}æ–°è¦ç™»éŒ²{1}",SMResetPassMail_title:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å†è¨­å®š",SMResetPassMail_Back_Login:"ãƒ­ã‚°ã‚¤ãƒ³ã«æˆ»ã‚‹",SMResetPassMail_Enter_Email:"ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",SMResetPassMail_confirmation_title:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆã®ã”æ¡ˆå†…ãƒ¡ãƒ¼ãƒ«ã‚’ã€€ã€€ãŠé€ã‚Šã—ã¾ã—ãŸ",SMResetPassMail_confirmation_msg:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å†è¨­å®šã«é–¢ã™ã‚‹ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¾ã—ãŸã€‚ãƒ¡ãƒ¼ãƒ«ã®æœ¬æ–‡ã«å«ã¾ã‚Œã¦ã„ã‚‹ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚",SMResetPass_Message:"ã“ã®ç”»é¢ä¸Šã§ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å†è¨­å®šã—ã¾ã™",SMResetPass_New_Password:"æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",SMResetPass_Retype_Password:"å†å…¥åŠ›ã—ã¦ãã ã•ã„",SMResetPass_Continue:"ç¶šè¡Œ",SMResetPass_Reset_Succ:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å†è¨­å®šãŒã§ãã¾ã—ãŸ",SMResetPass_Reset_Fail:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå¤‰æ›´ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚å†å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚",SMProfile_Update_Details:"Update your details",SMProfile_Update:"Update",SMApply_Success1:"ä¼šå“¡ç™»éŒ²ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒç„¡äº‹é€ä¿¡ã•ã‚Œã¾ã—ãŸã€‚",SMApply_Success2:"ä¼šå“¡ç™»éŒ²ãŒæ‰¿èªã•ã‚Œã‚‹ã¨ã€ã‚¦ã‚§ã‚¦ã‚µã‚¤ãƒˆç®¡ç†è€…ã‹ã‚‰ãŠçŸ¥ã‚‰ã›ãƒ¡ãƒ¼ãƒ«ãŒï¼ˆ {0} ï¼‰ã«é€ä¿¡ã•ã‚Œã¾ã™ã€‚ ",SMForm_Error_General_Err:"ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚å†å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚",SMForm_Error_Password_Blank:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯å…¥åŠ›å¿…é ˆé …ç›®ã§ã™",SMForm_Error_Password_Retype:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¾ã›ã‚“",SMForm_Error_Password_Length:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯{0}æ–‡å­—ä»¥ä¸Š {1}æ–‡å­—ä»¥ä¸‹ã§è¨­å®šã—ã¦ãã ã•ã„",SMForm_Error_Email_Blank:"ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å…¥åŠ›å¿…é ˆé …ç›®ã§ã™",SMForm_Error_Email_Invalid:"ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã™",SMForm_Error_Non_Ascii_Chars:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«ã¯ASCIIï¼ˆã‚¢ã‚¹ã‚­ãƒ¼ï¼‰æ–‡å­—ã®ã¿ä½¿ç”¨ã—ã¦ãã ã•ã„",SMForm_Error_19999:"ã“ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«è©²å½“ã™ã‚‹ç™»éŒ²ã¯ã‚ã‚Šã¾ã›ã‚“",SMForm_Error_19995:"ã“ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯æ—¢ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™",SMForm_Error_19972:"ç„¡åŠ¹ãªãƒˆãƒ¼ã‚¯ãƒ³ã§ã™",SMForm_Error_19988:"æ¤œè¨¼ã‚¨ãƒ©ãƒ¼",SMForm_Error_19984:"ç„¡åŠ¹ãªã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã™",SMForm_Error_19976:"ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“",SMForm_Error_19958:"ã‚ãªãŸã®ä¼šå“¡ç™»éŒ²ã¯ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆç®¡ç†è€…ã®æ‰¿èªå¾…ã¡ã§ã™",SMForm_Error_19980:"ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆç®¡ç†è€…ã‹ã‚‰ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã¾ã™"},ko:{SMRegister_sign_up:"ê°€ìž…í•˜ê¸°",SMRegister_GO:"ì‹œìž‘í•˜ê¸°",SMRegister_Already_Have_User:"íšŒì› ë¡œê·¸ì¸",SMRegister_Login:"ë¡œê·¸ì¸",SMForm_Email:"ì´ë©”ì¼",SMForm_Password:"ë¹„ë°€ë²ˆí˜¸",SMForm_Retype_Password:"ë¹„ë°€ë²ˆí˜¸ í™•ì¸",SMLogin_Remember_Me:"ë‚´ ê³„ì • ê¸°ì–µí•˜ê¸°",SMLogin_Forgot_Password:"ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°",SMLogin_Login:"ë¡œê·¸ì¸",SMLogin_Sign_UP:"ë˜ëŠ” {0}ê°€ìž…í•˜ê¸°{1}",SMResetPassMail_title:"ë¹„ë°€ë²ˆí˜¸ ìž¬ì„¤ì •",SMResetPassMail_Back_Login:"ë¡œê·¸ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°",SMResetPassMail_Enter_Email:"ì´ë©”ì¼ ì£¼ì†Œë¥¼ ìž…ë ¥í•˜ì„¸ìš”.",SMResetPassMail_confirmation_title:"ì´ë©”ì¼ì„ í™•ì¸í•´ ì£¼ì„¸ìš”.",SMResetPassMail_confirmation_msg:"ë¹„ë°€ë²ˆí˜¸ ìž¬ì„¤ì • ë§í¬ê°€ ì´ë©”ì¼ë¡œ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.",SMResetPass_Message:"ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì„¤ì •í•˜ë ¤ë©´ ë‹¤ìŒì„ ìž…ë ¥í•´ ì£¼ì„¸ìš”.",SMResetPass_New_Password:"ìƒˆë¡œìš´ ë¹„ë°€ë²ˆí˜¸",SMResetPass_Retype_Password:"ë¹„ë°€ë²ˆí˜¸ í™•ì¸",SMResetPass_Continue:"ê³„ì†",SMResetPass_Reset_Succ:"ë¹„ë°€ë²ˆí˜¸ê°€ ì„±ê³µì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.",SMResetPass_Reset_Fail:"ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ìž ì‹œí›„ì— ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”.",SMProfile_Update_Details:"Update your details",SMProfile_Update:"Update",SMApply_Success1:"ì„±ê³µì ìœ¼ë¡œ íšŒì›ê°€ìž… ìš”ì²­ì´ ì´ë£¨ì–´ì¡ŒìŠµë‹ˆë‹¤! í˜„ìž¬ íšŒì›ê°€ìž… ìŠ¹ì¸ì„ ê¸°ë‹¤ë¦¬ê³   ìžˆìŠµë‹ˆë‹¤.",SMApply_Success2:"íšŒì›ê°€ìž…ì´ ìŠ¹ì¸ë˜ë©´ ì´ë©”ì¼ë¡œ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤. ",SMForm_Error_General_Err:"ì„œë²„ ì˜¤ë¥˜ìž…ë‹ˆë‹¤. ìž ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”.",SMForm_Error_Password_Blank:"ë¹„ë°€ë²ˆí˜¸ëŠ” ë¹„ì›Œë‘˜ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",SMForm_Error_Password_Retype:"ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ìž…ë ¥í•´ ì£¼ì„¸ìš”.",SMForm_Error_Password_Length:"ë¹„ë°€ë²ˆí˜¸ëŠ” {0}ìž ì´ìƒ {1}ìž ì´í•˜ì´ì–´ì•¼ í•©ë‹ˆë‹¤.",SMForm_Error_Email_Blank:"ì´ë©”ì¼ì€ ë¹„ì›Œë‘˜ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",SMForm_Error_Email_Invalid:"ìœ íš¨í•˜ì§€ ì•Šì€ ì´ë©”ì¼ ì£¼ì†Œìž…ë‹ˆë‹¤.",SMForm_Error_Non_Ascii_Chars:"ë¹„ë°€ë²ˆí˜¸ëŠ” ë°˜ë“œì‹œ ASCII ë¬¸ìžë¥¼ í¬í•¨í•´ì•¼í•©ë‹ˆë‹¤.",SMForm_Error_19999:"ì•Œ ìˆ˜ ì—†ëŠ” ì‚¬ìš©ìžìž…ë‹ˆë‹¤.",SMForm_Error_19995:"ì´ë¯¸ ì¡´ìž¬í•˜ëŠ” ì´ë©”ì¼ìž…ë‹ˆë‹¤.",SMForm_Error_19972:"ìœ íš¨í•˜ì§€ ì•Šì€ í† í°ìž…ë‹ˆë‹¤.",SMForm_Error_19988:"ìœ íš¨ì„± ê²€ì‚¬ ì˜¤ë¥˜",SMForm_Error_19984:"ìœ íš¨í•˜ì§€ ì•Šì€ ì„¸ì…˜ìž…ë‹ˆë‹¤.",SMForm_Error_19976:"ìž˜ëª»ëœ ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ìž…ë‹ˆë‹¤.",SMForm_Error_19958:"ì‚¬ì´íŠ¸ ì†Œìœ ìžì˜ íšŒì›ìš”ì²­ ìŠ¹ì¸ì„ ê¸°ë‹¤ë¦¬ê³  ìžˆìŠµë‹ˆë‹¤.",SMForm_Error_19980:"ì‚¬ì´íŠ¸ ì†Œìœ ìžì— ì˜í•´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤."},pl:{SMRegister_sign_up:"Zarejestruj sie",SMRegister_GO:"START",SMRegister_Already_Have_User:"Jestem juÅ¼ uÅ¼ytkownikiem",SMRegister_Login:"Jestem juz uzytkownikiem",SMForm_Email:"Email",SMForm_Password:"Haslo",SMForm_Retype_Password:"PowtÃ³rz haslo",SMLogin_Remember_Me:"Zapamietaj mnie",SMLogin_Forgot_Password:"Zapomniales hasla?",SMLogin_Login:"Login",SMLogin_Sign_UP:"Lub {0}Zarejestruj sie{1}",SMResetPassMail_title:"Zresetuj Haslo",SMResetPassMail_Back_Login:"PowrÃ³t do Loginu",SMResetPassMail_Enter_Email:"Wpisz swÃ³j adres email",SMResetPassMail_confirmation_title:"Sprawdz swÃ³j email",SMResetPassMail_confirmation_msg:"Wyslalismy email z linkiem, ktÃ³ry umozliwi ci zresetowanie hasla",SMResetPass_Message:"Aby skonfigurowac twoje nowe haslo, wpisz je w obu polach ponizej. ",SMResetPass_New_Password:"Wpisz nowe haslo",SMResetPass_Retype_Password:"Wpisz ponownie:",SMResetPass_Continue:"Kontynuuj",SMResetPass_Reset_Succ:"Zresetowanie hasla powiodlo sie.",SMResetPass_Reset_Fail:"Haslo nie moglo zostac zmienione. SprÃ³buj ponownie pÃ³zniej.",SMProfile_Update_Details:"Update your details",SMProfile_Update:"Update",SMApply_Success1:"Sukces! Prosba o login witryny zostala wyslana i czeka na potwierdzenie.",SMApply_Success2:"Administrator powiadomi cie w emailu,( {0} ) gdy twoja prosba zostanie zatwierdzona ",SMForm_Error_General_Err:"Blad serwera. SprÃ³buj ponownie pÃ³zniej.",SMForm_Error_Password_Blank:"Pole Haslo nie moze byc puste",SMForm_Error_Password_Retype:"Hasla rÃ³znia sie",SMForm_Error_Password_Length:"Dlugosc hasla musi wynosic pomiedzy {0}, a {1}",SMForm_Error_Email_Blank:"Pole Email nie moze byc puste",SMForm_Error_Email_Invalid:"Nieprawidlowy Email",SMForm_Error_Non_Ascii_Chars:"Haslo moze zawierac tylko znaki ASCII",SMForm_Error_19999:"Nierozpoznany uzytkownik",SMForm_Error_19995:"Email juz istnieje",SMForm_Error_19972:"Bledny zeton",SMForm_Error_19988:"Blad Walidacji",SMForm_Error_19984:"Bledna Sesja",SMForm_Error_19976:"Niepoprawny email lub haslo",SMForm_Error_19958:"Twoja prosba o login witryny czeka na zatwierdzenie od wlasciciela witryny",SMForm_Error_19980:"Zablokowane przez wlasciciela witryny"},pt:{SMRegister_sign_up:"Registre-se",SMRegister_GO:"VÃ",SMRegister_Already_Have_User:"JÃ¡ sou usuÃ¡rio",SMRegister_Login:"Login",SMForm_Email:"E-mail",SMForm_Password:"Senha",SMForm_Retype_Password:"Digite sua senha novamente",SMLogin_Remember_Me:"Lembre-se de Mim",SMLogin_Forgot_Password:"Esqueceu sua senha?",SMLogin_Login:"Login",SMLogin_Sign_UP:"Ou {0}Registre-se{1}",SMResetPassMail_title:"Redefinir Senha",SMResetPassMail_Back_Login:"Voltar para Login",SMResetPassMail_Enter_Email:"Por favor, insira seu endereÃ§o de e-mail",SMResetPassMail_confirmation_title:"Por favor, verifique seu e-mail",SMResetPassMail_confirmation_msg:"Enviamos um e-mail com um link que lhe permitirÃ¡ redefinir sua senha",SMResetPass_Message:"Para definir sua nova senha, por favor, digite-a nos dois campos abaixo: ",SMResetPass_New_Password:"Insira uma nova senha",SMResetPass_Retype_Password:"Digite novamente:",SMResetPass_Continue:"Continuar",SMResetPass_Reset_Succ:"VocÃª redefiniu sua senha com sucesso.",SMResetPass_Reset_Fail:"NÃ£o foi possÃ­vel alterar a senha. Tente novamente mais tarde.",SMProfile_Update_Details:"Update your details",SMProfile_Update:"Update",SMApply_Success1:"Sucesso! Seu pedido de login foi enviado e aguarda aprovaÃ§Ã£o.",SMApply_Success2:"O administrador do site irÃ¡ enviar-lhe uma notificaÃ§Ã£o via e-mail( {0} ) assim que o pedido for aprovado ",SMForm_Error_General_Err:"Erro de servidor. tente novamente mais tarde.",SMForm_Error_Password_Blank:"Campo senha nÃ£o pode estar vazio",SMForm_Error_Password_Retype:"Senhas nÃ£o correspondem",SMForm_Error_Password_Length:"Senha deve ter entre {0} e {1} caracteres",SMForm_Error_Email_Blank:"Campo E-mail nÃ£o pode estar vazio",SMForm_Error_Email_Invalid:"E-mail invÃ¡lido",SMForm_Error_Non_Ascii_Chars:"A senha deve conter apenas caracteres ASCII",SMForm_Error_19999:"UsuÃ¡rio desconhecido",SMForm_Error_19995:"E-mail jÃ¡ estÃ¡ sendo usado",SMForm_Error_19972:"Token InvÃ¡lido",SMForm_Error_19988:"Erro de ValidaÃ§Ã£o",SMForm_Error_19984:"SessÃ£o InvÃ¡lida",SMForm_Error_19976:"Seu pedido de login estÃ¡ aguardando a aprovaÃ§Ã£o do proprietÃ¡rio do site",SMForm_Error_19958:"Seu pedido de login estÃ¡ aguardando a aprovaÃ§Ã£o do proprietÃ¡rio do site",SMForm_Error_19980:"Bloqueado pelo proprietÃ¡rio do site"},ru:{SMRegister_sign_up:"Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ",SMRegister_GO:"Ð’ÐŸÐ•Ð Ð•Ð”",SMRegister_Already_Have_User:"Ð£Ð¶Ðµ ÐµÑÑ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚",SMRegister_Login:"Ð’Ð¾Ð¹Ñ‚Ð¸",SMForm_Email:"Email",SMForm_Password:"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ",SMForm_Retype_Password:"ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",SMLogin_Remember_Me:"Ð—Ð°Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚ÑŒ Ð¼ÐµÐ½Ñ",SMLogin_Forgot_Password:"Ð—Ð°Ð±Ñ‹Ð»Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ?",SMLogin_Login:"Ð’Ð¾Ð¹Ñ‚Ð¸",SMLogin_Sign_UP:"Ð˜Ð»Ð¸ {0}Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐ¹Ñ‚ÐµÑÑŒ{1}",SMResetPassMail_title:"Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",SMResetPassMail_Back_Login:"ÐÐ°Ð·Ð°Ð´ Ð² Ð»Ð¾Ð³Ð¸Ð½",SMResetPassMail_Enter_Email:"ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ email",SMResetPassMail_confirmation_title:"ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð²Ð°Ñˆ email",SMResetPassMail_confirmation_msg:"ÐœÑ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð²Ð°Ð¼ Ð½Ð° Ð¿Ð¾Ñ‡Ñ‚Ñƒ Ð¿Ð¸ÑÑŒÐ¼Ð¾ ÑÐ¾ ÑÑÑ‹Ð»ÐºÐ¾Ð¹ Ð´Ð»Ñ ÑÐ±Ñ€Ð¾ÑÐ° Ð¿Ð°Ñ€Ð¾Ð»Ñ.",SMResetPass_Message:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð½Ð¸Ð¶Ðµ.",SMResetPass_New_Password:"ÐÐ¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",SMResetPass_Retype_Password:"ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ:",SMResetPass_Continue:"ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ",SMResetPass_Reset_Succ:"Ð’Ñ‹ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ð»Ð¸ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ.",SMResetPass_Reset_Fail:"ÐÐµ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð»Ð¾ÑÑŒ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿Ð¾Ð·Ð¶Ðµ.",SMProfile_Update_Details:"Update your details",SMProfile_Update:"Update",SMApply_Success1:"ÐŸÐ¾Ð·Ð´Ñ€Ð°Ð²Ð»ÑÐµÐ¼! Ð’Ð°Ñˆ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð½Ð° Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸ÑŽ Ð±Ñ‹Ð» Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½ Ð½Ð° Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ.",SMApply_Success2:"ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€ ÑÐ°Ð¹Ñ‚Ð° Ð¿Ñ€Ð¸ÑˆÐ»ÐµÑ‚ Ð²Ð°Ð¼ Ð¿Ð¸ÑÑŒÐ¼Ð¾( {0} ), ÐºÐ°Ðº Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð²Ð°Ñˆ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½ ",SMForm_Error_General_Err:"ÐžÑˆÐ¸Ð±ÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð°. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿Ð¾Ð·Ð¶Ðµ.",SMForm_Error_Password_Blank:"ÐÐµÐ´Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",SMForm_Error_Password_Retype:"ÐŸÐ°Ñ€Ð¾Ð»Ð¸ Ð½Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÑŽÑ‚",SMForm_Error_Password_Length:"Ð”Ð»Ð¸Ð½Ð° Ð¿Ð°Ñ€Ð¾Ð»Ñ Ð´Ð¾Ð»Ð¶Ð½Ð° Ð±Ñ‹Ñ‚ÑŒ Ð¾Ñ‚ {0} Ð´Ð¾ {1} Ð·Ð½Ð°ÐºÐ¾Ð²",SMForm_Error_Email_Blank:"ÐÐµÐ´Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼Ñ‹Ð¹ Email",SMForm_Error_Email_Invalid:"ÐÐµÐ´Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼Ñ‹Ð¹ Email",SMForm_Error_Non_Ascii_Chars:"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð¼Ð¾Ð¶ÐµÑ‚ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ASCII ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ‹",SMForm_Error_19999:"ÐÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ð¹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ",SMForm_Error_19995:"Email ÑƒÐ¶Ðµ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½",SMForm_Error_19972:"ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ñ‚Ð¾ÐºÐµÐ½",SMForm_Error_19988:"ÐžÑˆÐ¸Ð±ÐºÐ° Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸",SMForm_Error_19984:"ÐÐµÐ²ÐµÑ€Ð½Ð°Ñ ÑÐµÑÑÐ¸Ñ",SMForm_Error_19976:"ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ email Ð¸Ð»Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",SMForm_Error_19958:"Ð—Ð°Ð¿Ñ€Ð¾Ñ Ð½Ð° Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸ÑŽ Ð¾Ð¶Ð¸Ð´Ð°ÐµÑ‚ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð° ÑÐ°Ð¹Ñ‚Ð°.",SMForm_Error_19980:"Ð—Ð°Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†ÐµÐ¼ ÑÐ°Ð¹Ñ‚Ð°"},tr:{SMRegister_sign_up:"Kaydol",SMRegister_GO:"GIT",SMRegister_Already_Have_User:"Kullanicim bulunuyor",SMRegister_Login:"Giris",SMForm_Email:"E-posta",SMForm_Password:"Sifre",SMForm_Retype_Password:"Sifreyi yeniden yazin",SMLogin_Remember_Me:"Beni hatirla",SMLogin_Forgot_Password:"Sifrenizi unuttunuz mu?",SMLogin_Login:"Giris",SMLogin_Sign_UP:"Veya {0}Kaydolun{1}",SMResetPassMail_title:"Sifreyi Sifirla",SMResetPassMail_Back_Login:"GiriÅŸe DÃ¶n",SMResetPassMail_Enter_Email:"LÃ¼tfen e-posta adresinizi girin",SMResetPassMail_confirmation_title:"LÃ¼tfen e-postanizi kontrol edin",SMResetPassMail_confirmation_msg:"Size sifrenizi sifirlamanizi saglayacak bir baglanti iÃ§eren bir e-posta gÃ¶nderdik.",SMResetPass_Message:"Yeni sifrenizi belirlemek iÃ§in lÃ¼tfen asagidaki iki alana da girin. ",SMResetPass_New_Password:"Yeni bir sifre girin",SMResetPass_Retype_Password:"Yeniden girin:",SMResetPass_Continue:"Devam",SMResetPass_Reset_Succ:"Sifrenizi yeniden ayarlama basarili.",SMResetPass_Reset_Fail:"Sifre degistirilemedi. Daha sonra yeniden deneyin.",SMProfile_Update_Details:"Update your details",SMProfile_Update:"Update",SMApply_Success1:"Basarili! Ãœye girisi talebiniz gÃ¶nderildi ve onay bekliyor.",SMApply_Success2:"Talebiniz onaylandiginda site yÃ¶neticisi size e-posta( {0} ) yoluyla bildirecektir ",SMForm_Error_General_Err:"Sunucu hatasi. Daha sonra yeniden deneyin.",SMForm_Error_Password_Blank:"Sifre bos olamaz",SMForm_Error_Password_Retype:"Sifreler ayni degil",SMForm_Error_Password_Length:"Sifre uzunlugu {0} ile {1} arasinda olmalidir",SMForm_Error_Email_Blank:"E-posta bos olamaz",SMForm_Error_Email_Invalid:"E-posta geÃ§ersiz",SMForm_Error_Non_Ascii_Chars:"Sifre sadece ASCII karakterleri iÃ§ermelidir",SMForm_Error_19999:"Bilinmeyen kullanici",SMForm_Error_19995:"E-posta halihazirda kullanimda",SMForm_Error_19972:"GeÃ§ersiz jeton",SMForm_Error_19988:"Dogrulama Hatasi",SMForm_Error_19984:"GeÃ§ersiz Oturum",SMForm_Error_19976:"Yanlis e-posta veya sifre",SMForm_Error_19958:"Ãœyelik talebiniz site sahibinden onay bekliyor",SMForm_Error_19980:"Site sahibi tarafindan bloke edildi"}},_keys:{}}),c.methods({initialize:d.after(function(){this._setDictionary(this._container._args.dialogsLanguage)
}),_bindRePasswordField:function(a){return a.argObject={label:this._keys.SMForm_Retype_Password,passwordField:!0},this._bindTextDataItem(a)},_bindPasswordField:function(a){return a.argObject={label:this._keys.SMForm_Password,passwordField:!0},this._bindTextDataItem(a)},_bindEmailField:function(a){return a.argObject={label:this._keys.SMForm_Email},this._bindTextDataItem(a)},_setDictionary:function(a){this._keys=a&&this.langKeys[a]?this.langKeys[a]:this.langKeys.en},_getErrorMessage:function(a){var b=this._keys.SMForm_Error_General_Err;if(a){var c=a.errorCode;if("number"==typeof c&&0>c&&(c="SMForm_Error_"+c.toString().substring(1)),c&&this._keys[c]){b=this._keys[c];var d=a.errorParams;if(d)for(var e=d.length||0,f=0;e>f;f++)b=b.replace("{"+f+"}",d[f])}else b=this._keys.SMForm_Error_General_Err+" ("+c+")";LOG.reportError("Site Members error - "+a.errorDescription+"("+a.errorCode+")")}return b}})}),define.experiment.component("wysiwyg.viewer.components.sm.SMLogin.SiteMemberTranslated",function(a,b){var c=a,d=b;c.methods({_onAllSkinPartsReady:d.after(function(){this._forgotPasswordField.innerHTML=this._keys.SMLogin_Forgot_Password}),getDisplayName:function(){return this._keys.SMLogin_Login},getButtonLabel:function(){return this._keys.SMRegister_GO},_bindCheckBoxDataItem:function(a){return a.dataItem=this.resources.W.Data.createDataItem({value:"false",type:"Boolean"},"Boolean"),a.dataItem.setMeta("isPersistent",!1),a.argObject={label:this._keys.SMLogin_Remember_Me},a},getSubHeaderElement:function(){var a=new Element("DIV"),b=this._keys.SMLogin_Sign_UP;return b=this._formatString(b,["<a>","</a>"]),a.set("html",b),{el:a,intent:this.INTENTS.REGISTER}},_validatePassword:function(a,b){return a.isBlankPassword(b)?(this._displayErrorOn(this._passwordField,"SMForm_Error_Password_Blank"),!1):a.isPasswordLengthValid(b)?!0:(this._displayErrorOn(this._passwordField,"SMForm_Error_Password_Length",[this.PASS_MIN_LEN,this.PASS_MAX_LEN]),!1)},_validateEmail:function(a,b){return a.isEmailBlank(b)?(this._displayErrorOn(this._emailField,"SMForm_Error_Email_Blank"),!1):a.isEmailValid(b)?!0:(this._displayErrorOn(this._emailField,"SMForm_Error_Email_Invalid"),!1)},_closeAndRedirectToEmailReset:function(){this.resources.W.SiteMembers.openSiteMembersPopup({intent:this.INTENTS.EMAIL_RESET_PASSWORD,formData:{enteredEmail:this._getEnteredEmail()},dialogsLanguage:this._container._args.dialogsLanguage})}})}),define.experiment.component("wysiwyg.viewer.components.sm.SMProfile.SiteMemberTranslated",function(a,b){var c=a;c.methods({getDisplayName:function(){return this._keys.SMProfile_Update_Details},getButtonLabel:function(){return this._keys.SMProfile_Update}})}),define.experiment.component("wysiwyg.viewer.components.sm.SMRegister.SiteMemberTranslated",function(a,b){var c=a;c.methods({getDisplayName:function(){return this._keys.SMRegister_sign_up},getButtonLabel:function(){return this._keys.SMRegister_GO},getSubHeaderElement:function(){var a=new Element("DIV");return a.set("html",this._keys.SMRegister_Already_Have_User+", <a>"+this._keys.SMRegister_Login+"</a>"),{el:a,intent:this.INTENTS.LOGIN}},_validatePassword:function(a,b,c){return a.isBlankPassword(b)?(this._displayErrorOn(this._passwordField,"SMForm_Error_Password_Blank"),!1):a._isAsciiOnlyInput(b)?a.isPasswordLengthValid(b)?a.doPasswordsMatch(b,c)?!0:(this._displayErrorOn(this._rePasswordField,"SMForm_Error_Password_Retype"),!1):(this._displayErrorOn(this._passwordField,"SMForm_Error_Password_Length",[this.PASS_MIN_LEN,this.PASS_MAX_LEN]),!1):(this._displayErrorOn(this._passwordField,"SMForm_Error_Non_Ascii_Chars"),!1)},_validateEmail:function(a,b){return a.isEmailBlank(b)?(this._displayErrorOn(this._emailField,"SMForm_Error_Email_Blank"),!1):a.isEmailValid(b)?!0:(this._displayErrorOn(this._emailField,"SMForm_Error_Email_Invalid"),!1)}})}),define.experiment.component("wysiwyg.viewer.components.sm.SMResetPassword.siteMemberTranslated",function(a,b){var c=a,d=b;c.methods({_onAllSkinPartsReady:d.after(function(){this._formMessage.innerText=this._keys.SMResetPass_Message}),_onSuccessfulReset:function(){this._container._setConfirmationOkCaption(this._keys.SMResetPass_Continue),this._container.showConfirmation({message:this._keys.SMResetPass_Reset_Succ},this._closeAndRedirectToLogin(),!1)},_onFailedReset:function(){this._container.showConfirmation(this._keys.SMResetPass_Reset_Fail,this._closeSMContainer)},getDisplayName:function(){return this._keys.SMResetPassMail_title},getButtonLabel:function(){return this._keys.SMRegister_GO},_bindNewPasswordField:function(a){return this._bindPasswordField(a,this._keys.SMResetPass_New_Password)},_bindPasswordRetypeField:function(a){return this._bindPasswordField(a,this._keys.SMResetPass_Retype_Password)},_doPasswordsMatch:function(){var a=this._getPasswordText(),b=this._getRetypedPasswordText();return a!==b?(this._onFormError({errorCode:"SMForm_Error_Password_Retype"},this._passwordRetype),!1):!0},_validatePasswordAndReportError:function(a){return this._isPasswordBlank(a)?(this._onFormError({errorCode:"SMForm_Error_Password_Blank"},this._password),!1):this._isPasswordLengthValid(a)?!0:(this._onFormError({errorCode:"SMForm_Error_Password_Length",errorParams:[this.PASS_MIN_LEN,this.PASS_MAX_LEN]},this._password),!1)}})}),define.experiment.component("wysiwyg.viewer.components.sm.SMResetPasswordEmail.SiteMemberTranslated",function(a,b){var c=a;c.methods({_bindEmailField:function(a){return a.argObject={label:this._keys.SMResetPassMail_Enter_Email},this._bindTextDataItem(a)},_closeAndRedirectToConfirmationDialog:function(){this._container.showConfirmation({title:this._keys.SMResetPassMail_confirmation_title,message:this._keys.SMResetPassMail_confirmation_msg},this._closeSMContainer)},getDisplayName:function(){return this._keys.SMResetPassMail_title},getButtonLabel:function(){return this._keys.SMRegister_GO},getSubHeaderElement:function(){var a=new Element("DIV"),b=this._keys.SMResetPassMail_Back_Login;return a.set("html","<a>"+b+"</a>"),{el:a,intent:this.INTENTS.LOGIN,formData:{enteredEmail:function(){this._email._data.get("text")}.bind(this)}}},_isEmailFieldValid:function(a){return this._email.setValidationState(!0),a?this.resources.W.Utils.isValidEmail(a)?!0:(this._email.setValidationState(!1),this._onFormError({errorCode:"SMForm_Error_Email_Invalid"},this._email),!1):(this._email.setValidationState(!1),this._onFormError({errorCode:"SMForm_Error_Email_Blank"},this._email),!1)}})}),define.experiment.Class("wysiwyg.viewer.components.traits.CustomPreviewBehavior.PinterestPinItRevised",function(a){var b=a;b.methods({_bindOverlayElementEvents:function(){this._overlayElement.addEvent("click",function(a){a.stopPropagation(),this.resources.W.Commands.executeCommand("CustomPreviewBehavior.interact",{component:this,tooltipId:this._overlayElementTooltipId},this)}.bind(this))},_createClickOverlayForPreviewMode:function(a){this._isPreviewMode()&&(this._overlayElementTooltipId=a,this._overlayElementExists()||(this._createOverlayElement(),this._createOverlayElementStyles(),this._bindOverlayElementEvents(),this.getViewNode().adopt(this._overlayElement)))}})}),define.experiment.component("wysiwyg.viewer.components.wixhomepage.HomePageLogin.MobileLoginRedirect",function(a,b){a.resources(b.merge(["W.Commands"])),a.methods({_doLogin:function(){var a=this.resources.W.Config.env.$viewingDevice==Constants.ViewerTypesParams.TYPES.MOBILE;if(a)return window.location.href="http://m.wix.com#sign_up",void 0;var b=this._skinParts.actionTitle;b.removeEvent("click",arguments.callee),this.resources.W.Config.env.$isPublicViewerFrame?this._openLoginDialog():this.resources.W.Commands.executeCommand("adminLogin.submitAttempt",{component:this.getViewNode()},this)}})}),define.experiment.Class("wysiwyg.viewer.managers.ActionsManager.AnimationPageTransitions",function(a,b){var c=a,d=b;c.resources(d.merge(["ActionsEnabledMap"])),c.utilize(d.merge(["wysiwyg.viewer.managers.actions.PageTransitionAction","wysiwyg.common.behaviors.Transitions"])),c.methods({initialize:function(){this._actionsEnabledMap=this.resources.ActionsEnabledMap,this._anyActionEnabledInMap=_.any(this._actionsEnabledMap,Boolean),this._animations=new this.imports.Animations,this._transitions=new this.imports.Transitions(this._animations),this._createActionsInstances(),this._setActionsListeners()},registerComponent:function(a,b,c){var d,e=b.getComponentId();if(c=c||{},"string"==typeof c)try{c=JSON.parse(c)}catch(f){return LOG.reportError(wixErrors.ANIMATIONS_REGISTER_CORRUPTED_DATA,"ActionsManager","registerComponent",{dsc:e}),void 0}for(d in this._actions)this._actions[d].removeComponentBehaviors(e);for(d in c)this._actions[d]&&this.isActionEnabledForSession(d)&&this._addBehaviorsByAction(a,e,c,d)},_createActionsInstances:function(){this._actions[Constants.Actions.PAGE_IN]=new this.imports.PageInAction(this._animations),this._actions[Constants.Actions.SCREEN_IN]=new this.imports.ScreenInAction(this._animations),this._actions[Constants.Actions.PAGE_TRANSITION]=new this.imports.PageTransitionAction(this._transitions)},_setActionsListeners:function(){_.forEach(this._actions,function(a,b){this.isActionEnabledForSession(b)?(a.setActionListeners(),a.setActiveState(!0)):a.setInactiveActionListeners()},this)},isActionEnabledForSession:function(a){return this._actionsEnabledMap[a]},isAnyActionsEnabledForSession:function(){return this._anyActionEnabledInMap}})}),define.experiment.Class("wysiwyg.viewer.managers.LayoutManager.BoxSlideShow",function(a,b){var c=a;c.methods({_getAnchoredH:function(a){var b=a.fromComp.getBoundingHeight(),c=a.fromComp.getBoundingY()+b;return a.locked?c+=a.distance:!this.resources.W.Viewer.isPageComponent(a.toComp.getOriginalClassName())&&this.resources.W.Viewer.canHaveFatherHeight(a.toComp)&&(c+=this.DEFAULT_MARGIN),a.type==a.ANCHOR_BOTTOM_BOTTOM?c-=a.toComp.getBoundingY():a.type==a.ANCHOR_BOTTOM_PARENT&&a.toComp.getInlineContentContainer&&this._isInlineContentNonZeroSize(a.toComp)&&(c+=this._getContainerMarginHeight(a.toComp)),c}})}),define.experiment.Class("wysiwyg.viewer.managers.LayoutManager.FixBottomTopAnchor",function(a,b){var c=a;c.methods({_getMaxAnchoredY:function(a,b){var c=this._getAnchoredY,d=b;return a.getReverseAnchors().forEach(function(a){if(a.type==a.ANCHOR_BOTTOM_TOP||a.type==a.ANCHOR_TOP_TOP){a.type!=a.ANCHOR_BOTTOM_TOP||a.locked||(d=Math.max(a.originalValue,d));var b=c(a);d=Math.max(b,d)}}),d}})}),define.experiment.Class("wysiwyg.viewer.managers.LayoutManager.LandingPageSupport",function(a){a.methods({_measureInvalidatedComps:function(a){if(a.getIsDisplayed()&&(!a.NEW_BASE_COMP&&a.isMeasureNeeded()&&a.measure(),a.getChildComponents)){var b;b=a.getCurrentChildren?a.getCurrentChildren():a.getChildComponents();for(var c=0;c<b.length;c++)b[c].getLogic&&this._measureInvalidatedComps(b[c].getLogic())}},_getLayoutRootComp:function(){return W.Viewer.isCurrentPageLandingPage()?W.Viewer.getPagesContainer().$logic:W.Viewer.getSiteNode().$logic}})}),define.experiment.Class("wysiwyg.viewer.managers.LayoutManager.NBC_FixMeasureBug",function(a,b){var c=a;c.methods({_isInlineContentNonZeroSize:function(a){return a.NEW_BASE_COMP?a.getInlineContentContainer().$measure.height>0:a.getInlineContentContainer().getSize().y>0},_getContainerMarginHeight:function(a){a.NEW_BASE_COMP?a.getInlineContentContainer().$measure.height:a.getInlineContentContainer().getSize().y;return a.getPhysicalHeight()-a.getInlineContentContainer().getSize().y},_createToParentAnchor:function(a,b){var c=a.getBoundingY(),d=a.getBoundingHeight(),e=b.NEW_BASE_COMP?b.getInlineContentContainer().$measure.height:b.getInlineContentContainer().getSize().y,f=new this._AnchorClass;return f.type=f.ANCHOR_BOTTOM_PARENT,f.fromComp=a,f.toComp=b,this._setAnchorableDistance(f,e-c-d),this._setAnchorableIsLocked(f),f.topToTop=c,f.originalValue=e,f}})}),define.experiment.Class("wysiwyg.viewer.managers.PageManager.EditorLoadPerPage",function(a,b){var c=a;c.methods({_getFirstPageId:function(){var a=this._dataResolver.getMainPageId(),b=W.Viewer.getCurrentPageId(),c=this._getPageIdFromHash(),d=[];return d=W.Config.env.isPublicViewer()?[c,a]:W.Config.env.isViewingDesktopDevice()?[a]:[b,a],this._getPageIdToLoad(d)},_getPageIdToLoad:function(a){var b=this._dataResolver.getPagesIds(),c=_.find(a,function(a){return!!a&&_.contains(b,a)});return c||_.first(b)},_getPageIdFromHash:function(){var a=this.resources.W.Utils.hash.getHashParts();return"zoom"===a.id?a.extData.match("([^/]+)/([^/]+)")[1]:a.id}})}),define.experiment.Class("wysiwyg.viewer.managers.PageManager.LandingPageSupport",function(a,b){var c=a;c.resources(b.merge(["W.Commands"])),c.binds(b.merge(["_hideSiteNode"])),c.methods({_createMasterPage:function(){var a=new this.imports.MasterPageHandler(this._dataResolver,this._viewerName);this._propagateEvents(a);var b=a.loadMasterSignatureHtml();return b.then(this._hideSiteNode),this._masterPageHandler=a,b},_hideSiteNode:function(a){a.rootCompNode.setStyle("opacity",0)}})}),define.experiment.Class("wysiwyg.viewer.managers.PageManager.LoadPagesEarlier",function(a,b){var c=a,d=b;c.utilize(d.merge(["deployment.PageLoadUtility"])),c.methods({initialize:d.after(function(a,b){var c=new this.imports.PageLoadUtility;this._firstPageId=c.getFirstPageId(b.getPagesIds(),b.getMainPageId())}),_initFirstPageInfo:function(){},_startLoadingFirstPageData:d.remove(),_getFirstPageId:d.remove()})}),define.experiment.Class("wysiwyg.viewer.managers.viewer.SiteMembersHandler.SiteMemberTranslated",function(a,b){var c=a;c.methods({checkRequireLogin:function(a,b,c){var d=this.resources.W.Config.env.isInInteractiveViewer(),e=a.get("pageSecurity"),f=a.get("id"),g=this._getFallbackPage(f),h=!g;if(d&&e.requireLogin&&!this.injects().SiteMembers.isLoggedIn()&&!this._isProtectedPageValidated(f)){var i="",j=a.get("pageUriSEO"),k=this.resources.W.Utils.hash.getHashPartsString(f,j,i);this.injects().SiteMembers.openSiteMembersPopup({disableCancel:h,hashRedirectTo:"#"+k,cameFromHashChange:c,openedByPageSecurity:!0,dialogsLanguage:e.dialogLanguage?e.dialogLanguage:"en",authCallback:function(a){this._onAuthCallback(a,f,g,b)}.bind(this)})}else d&&e.passwordDigest&&!this._isProtectedPageValidated(f)?this.resources.W.Commands.executeCommand("WViewerCommands.PasswordLogin.Open",{args:{digestedPassword:e.passwordDigest,disableCancel:h,dialogsLanguage:e.dialogLanguage?e.dialogLanguage:"en",authCallback:function(a){this._onAuthCallback(a,f,g,b)}.bind(this)}}):b()}})}),define.experiment.Class("wysiwyg.viewer.managers.WViewManager.BoxSlideShow",function(a,b){var c=a;c.methods({canHaveFatherHeight:function(a){return a._childCanHaveFatherSize===!0}})}),define.experiment.Class("wysiwyg.viewer.managers.WViewManager.ExitMobileMode",function(a,b){var c=a;c.methods({initiateSite:function(a){var b=this,c=function(c){var d=c&&(W.Config.isMobileOptimizedViewOn()||W.Config.forceMobileOptimizedViewOn()),e=d?Constants.ViewerTypesParams.TYPES.MOBILE:Constants.ViewerTypesParams.TYPES.DESKTOP;b._firstActiveViewerLoad(e),(W.Config.env.isViewingSecondaryDevice()||a===Constants.ViewerTypesParams.TYPES.DESKTOP)&&b._mobileHandler.setMobileSite(e),b._activeViewer_.initiateSite()};a!==Constants.ViewerTypesParams.TYPES.DESKTOP&&W.Config.env.$isPublicViewerFrame&&(W.Config.mobileConfig.isMobile()||W.Config.forceMobileOptimizedViewOn())?this._dataResolver.isStructureExists(Constants.ViewerTypesParams.TYPES.MOBILE).then(c):c(!1)}})}),define.experiment.Class("wysiwyg.viewer.managers.WViewManager.HashRefactor",function(a){var b=a;b.methods({_initCurrentPageFromHash:function(){var a=this.resources.W.Utils.hash.getHashObject(),b=W.Data.isDataAvailable("#"+a.id)&&W.Data.getDataByQuery("#"+a.id);this._hashChangeHandler.isPageDataType(b.getType)&&(this._currentPageId=a.id)},_setPageToCurrent:function(){this._activeViewer_.removeEvent("SiteReady",this._setPageToCurrent),this._currentPageId=this._currentPageId||this.getHomePageId();var a=this.resources.W.Utils.hash.getHashObject().extData;this._activeViewer_.changePageWithTransition(this._currentPageId),this._activeViewer_._onPageExtraDataChange_(a,this._currentPageId)},enterFullScreenMode:function(){this._isFullScreen||(W.Config.env.$isEditorViewerFrame&&window.parent.document.body.addClass("fullScreenMode"),document.body.addClass("fullScreenMode"),this._isFullScreen=!0,this._currentPageExtData=this.resources.W.Utils.hash.getHashObject().extData)},exitFullScreenMode:function(){if(this._isFullScreen){var a,b="";this.getCurrentPageId()?(a=this.getCurrentPageId(),b=this._currentPageExtData):a=this.getHomePageId();var c={id:a,title:"",extData:b};this._hashChangeHandler._setUrlHashToPage(c),W.Config.env.$isEditorViewerFrame&&window.parent.document.body.removeClass("fullScreenMode"),document.body.removeClass("fullScreenMode"),this._isFullScreen=!1}},goToPage:function(a,b){var c=W.Data.getDataByQuery("#"+a);if(c){var d={id:a,title:"",extData:b};this._siteMembersHandler.checkRequireLogin(c,this.setUrlHashToPage.bind(this,d),!1)}},setUrlHashToPage:function(a,b){this._hashChangeHandler._setUrlHashToPage(a,b)}})}),define.experiment.Class("wysiwyg.viewer.managers.WViewManager.LandingPageSupport",function(a,b){a.traits(b.merge(["core.events.EventDispatcher"])),a.methods({initialize:b.after(function(){this.resources.W.Commands.registerCommandAndListener("Viewer.ToggleLandingPageMode",this,this._onToggleLandingPageMode)}),_onToggleLandingPageMode:function(a){var b=!!a.toLanding;this._toggleMasterPageComponentsVisibility(b);var c=[this.getPagesContainer().$logic,this.getFooterContainer().$logic];_.forEach(c,function(a){a.toggleLandingPageMode(b)})},_toggleMasterPageComponentsVisibility:function(a){var b=this._getTopLevelMasterPageComponents();_.forEach(b,function(b){a?b.collapse():b.uncollapse()})},_getTopLevelMasterPageComponents:function(){return _.filter(this.getSiteNode().getChildren(),function(a){return"PAGES_CONTAINER"!==a.$logic.getComponentId()})},isCurrentPageLandingPage:function(){return this._currentPageId&&this.getCompLogicById(this._currentPageId).isLanding()},_initSiteView:b.after(function(){this.once("SiteReady",this,this._setSiteToVisible)}),_setSiteToVisible:function(){this.isCurrentPageLandingPage()&&this.resources.W.Commands.executeCommand("Viewer.ToggleLandingPageMode",{toLanding:!0}),this.getSiteNode().setOpacity(1)}})}),define.experiment.Class("wysiwyg.viewer.managers.WViewManager.NBC_RenderOnlyDisplayed",function(a,b){var c=a;c.methods({getHomePageId:function(){return this._dataResolver.getMainPageId()}})}),define.experiment.Class("wysiwyg.viewer.managers.WViewManager.RichTextMigrationStudio",function(a,b){var c=a,d=b;c.utilize(d.merge(["wysiwyg.common.utils.TextMigrationHandler"])),c.methods({_wasMasterMigrated:!1,migrateAllRenderedTextComps:function(){this._textMigrationHandler=this._textMigrationHandler||new this.imports.TextMigrationHandler;var a=[];if(this._wasMasterMigrated){var b=this.getCurrentPageNode(),c=b&&b.$logic;c&&(a=c.getPageComponents())}else{var d=this.getSiteNode();a=d.getElements("[comp]").map(function(a){return a.$logic}),this._wasMasterMigrated=!0}return this._migrateTextComponents(a)},_migrateTextComponents:function(a){var b=a.filter(function(a){return"wysiwyg.viewer.components.WRichText"===a.getOriginalClassName()&&"StyledText"!==a.getDataItem().getType()});return this._textMigrationHandler=this._textMigrationHandler||new this.imports.TextMigrationHandler,b.forEach(function(a){var b=this._textMigrationHandler.migrateComponent(a);a.getDataItem().set("text",b)},this),b.length}})}),define.experiment.Class("wysiwyg.viewer.managers.WViewManager.StyleHighlight",function(a,b){var c=a,d=b;c.utilize(d.merge(["wysiwyg.viewer.managers.viewer.ViewerStaticLoadingHandler"])),c.methods({initialize:d.after(function(){this._currentHighlightedStyle=null,this.addEvent("highlightStylesRemove",this._highlightStylesRemove),this.addEvent("highlightStyles",this._highlightStyles)}),_highlightStyles:function(a){var b="."+a+"{background-color:rgba(252,253,70,0.4)}",c=W.Preview.getPreviewSite().document.head,d=document.createElement("style");d.type="text/css",b.appendChild(document.createTextNode(css)),c.appendChild(b),this._currentHighlightedStyle=a},_highlightStylesRemove:function(){null!=this._currentHighlightedStyle&&document.styleSheets.item(0).deleteRule(0)}})}),resource.getResourceValue("W.Experiments",function(a){a.isExperimentOpen("AnimationPageTransitions")&&resource.getResources(["W.Config","W.Utils"],function(a){var b=a.W.Config,c=a.W.Utils,d="undefined"==typeof window.addEventListener,e=b.mobileConfig.isMobileOrTablet(),f=c.getQueryParam("disableActions");f=f?f.split(","):[];var g={};g[Constants.Actions.PAGE_IN]=!_.contains(f,Constants.Actions.PAGE_IN)&&!d&&!e,g[Constants.Actions.SCREEN_IN]=!_.contains(f,Constants.Actions.SCREEN_IN)&&!d&&!e,g[Constants.Actions.PAGE_TRANSITION]=!_.contains(f,Constants.Actions.PAGE_TRANSITION)&&!d,define.resource("ActionsEnabledMap",g)})}),define.experiment.Class("wysiwyg.viewer.managers.actions.PageInAction.AnimationPageTransitions",function(a,b){var c=a,d=b;c.methods({initialize:d.remove(),setActionListeners:function(){this.resources.W.Commands.registerCommandListenerByName("WViewerCommands.PageChangeRequested",this,this._onPageChange),this.resources.W.Commands.registerCommandListenerByName("WViewerCommands.PageTransitionComplete",this,this._onPageTransitionComplete),this.resources.W.Commands.registerCommandListenerByName("WViewerCommands.PageTransitionStart",this,this._onPageTransitionStart),this.resources.W.Commands.registerCommandListenerByName("WPreviewCommands.ViewerStateChanged",this,this._onViewerStateChanged),this.resources.W.Commands.registerCommandListenerByName("WPreviewCommands.WEditModeChanged",this,this._onEditModeChanged)},executeAction:function(a){if(this._getCurrentPageId()===a.pageId&&this._animations.isReady()&&"PREVIEW"===this.resources.W.Config.env.$editorMode){a.isPageTransitionEnd||this._resetPageTargetsToPlay();var b=this.getCurrentPageTargetsIds();this._populateSiteTargetsPlayData(b),this._populatePageTargetsToPlay(b,a),this._startAnimationEvents()}},_onPageTransitionComplete:function(a){a=a||{},a.isPageTransitionEnd=!0,this.executeAction(a)},_onPageTransitionStart:function(a){a=a||{},a.isPageTransitionEnd=!1,this.executeAction(a)}})}),define.experiment.newClass("wysiwyg.viewer.managers.actions.PageTransitionAction.AnimationPageTransitions",function(a){var b=a;b.inherits("wysiwyg.viewer.managers.actions.base.BaseAction"),b.resources(["W.Viewer","W.Commands","W.Config","W.Utils"]),b.binds([]),b.methods({initialize:function(a){this.parent(),this.resources.W.Commands.registerCommand("WViewerCommands.PageTransitionStart",!0),this.resources.W.Commands.registerCommand("WViewerCommands.PageTransitionComplete",!0),this.resources.W.Commands.registerCommand("WViewerCommands.PageTransitionCompleteOffset",!0),this._transitions=a,this._transitionsDefinitions=this._transitions.getAllTransitionDefinitions()},setActionListeners:function(){this.resources.W.Commands.registerCommandListenerByName("W.ViewerCommands.PageHandlerAttachPage",this,this._hidePage),this.resources.W.Commands.registerCommandListenerByName("WViewerCommands.NextPageReady",this,this._onNextPageReady),this.resources.W.Commands.registerCommandListenerByName("TweenEngine.AnimationInterrupted",this,this._onAnimationComplete),this.resources.W.Commands.registerCommandListenerByName("TweenEngine.AnimationComplete",this,this._onAnimationComplete),this.resources.W.Commands.registerCommandListenerByName("TweenEngine.AnimationStart",this,this._onAnimationStart)},setInactiveActionListeners:function(){this.resources.W.Commands.registerCommandListenerByName("WViewerCommands.NextPageReady",this,this._executeInactiveActionCommands)},executeAction:function(a){var b,c=this.resources.W.Viewer.getPageGroup().getComponentProperty("transition"),d=this.resources.W.Viewer.getCompByID(a.fromPageId),e=this.resources.W.Viewer.getCompByID(a.pageId),f=!1;if(this._showPage({pageNode:e}),this._currentPageCommandParams={fromPageId:a.fromPageId,pageId:a.pageId},!a.fromPageId||"none"===c)return this._executeInactiveActionCommands(a),void 0;b=this._getTransitionByLegacyName(c);try{this._currentTimeline=b.init(e,d,{reverse:f}),this._currentTimeline.call(this._onAnimationCompleteOffset,null,this,b.options.completeCommandOffset)}catch(g){throw this._executeInactiveActionCommands(a),g}},_getTransitionByLegacyName:function(a){var b=_.find(this._transitionsDefinitions,function(b){return _.contains(b.legacyTypes,a)});return b},_onAnimationStart:function(a){this._currentTimeline&&this._currentTimeline===a.timeline&&this.resources.W.Commands.executeCommand("WViewerCommands.PageTransitionStart",this._currentPageCommandParams,"PageTransitionAction")},_onAnimationCompleteOffset:function(){this.resources.W.Commands.executeCommand("WViewerCommands.PageTransitionCompleteOffset",this._currentPageCommandParams,"PageTransitionAction")},_onAnimationComplete:function(a){this._currentTimeline&&this._currentTimeline===a.timeline&&(this.resources.W.Commands.executeCommand("WViewerCommands.PageTransitionComplete",this._currentPageCommandParams,"PageTransitionAction"),window.scrollTo(0,0))},_executeInactiveActionCommands:function(a){var b=this.resources.W.Viewer.getCompByID(a.pageId);this.resources.W.Commands.executeCommand("WViewerCommands.PageTransitionStart",{fromPageId:a.fromPageId,pageId:a.pageId},"PageTransitionAction"),_.defer(function(a){this._showPage({pageNode:b}),this.resources.W.Commands.executeCommand("WViewerCommands.PageTransitionComplete",a,"PageTransitionAction"),window.scrollTo(0,0)}.bind(this),{fromPageId:a.fromPageId,pageId:a.pageId})},_onNextPageReady:function(a){this.executeAction(a)},_hidePage:function(a){var b=a.pageNode;b&&b.addClass("hidePageForTransition")},_showPage:function(a){var b=a.pageNode;b&&b.removeClass("hidePageForTransition")}})}),define.experiment.Class("wysiwyg.viewer.managers.actions.ScreenInAction.AnimationNewBehaviors",function(a,b){var c=a;c.fields({_pageSequences:[],_masterPageSequences:[]}),c.methods({_animateTargets:function(){var a,b,c,d,e,f,g,h,i,j=[],k=[];if(this._isTargetsToAnimate())for(var l=this._pageTargetsToPlay.length;l--;)if(d=this._pageTargetsToPlay[l],c=this._isTargetInViewport(d),c&&!this._isTweening(d)){for(e=this.getBehaviorsByTargetId(d),f=0;f<e.length;f++)g=e[f],this._animations.getAnimationDefinition(g.name)&&(b=g.params?_.cloneDeep(g.params):{},a=this._getDomElementByTargetId(d),"master"===this.getPageIdByTargetId(d)?k.push(this._animations.applyTween(g.name,a,g.duration,g.delay,b)):j.push(this._animations.applyTween(g.name,a,g.duration,g.delay,b)));k.length&&(i=this._animations.sequence(k,{clearOnComplete:!0,paused:!0}),this._masterPageSequences.push(i)),j.length&&(h=this._animations.sequence(j,{clearOnComplete:!0,paused:!0}),this._pageSequences.push(h)),this._siteTargetsPlayData[d].isPlayed=!0,this._pageTargetsToPlay.splice(l,1),i&&i.play(),h&&h.play()}},_clearAnimations:function(a){"master"===a?(this._animations.clear(this._masterPageSequences),this._masterPageSequences=[]):(this._animations.clear(this._pageSequences),this._pageSequences=[])}})}),define.experiment.Class("wysiwyg.viewer.managers.actions.ScreenInAction.AnimationPageTransitions",function(a,b){var c=a,d=b;c.methods({initialize:d.remove(),setActionListeners:function(){this.resources.W.Commands.registerCommandListenerByName("WViewerCommands.PageChangeRequested",this,this._onPageChange),this.resources.W.Commands.registerCommandListenerByName("WViewerCommands.PageTransitionCompleteOffset",this,this._onPageTransitionComplete),this.resources.W.Commands.registerCommandListenerByName("WViewerCommands.PageTransitionStart",this,this._onPageTransitionStart),this.resources.W.Commands.registerCommandListenerByName("WPreviewCommands.FeedbackQuickTourEnded",this,this._onFeedbackQuickTourEnded),this.resources.W.Commands.registerCommandListenerByName("WPreviewCommands.ViewerStateChanged",this,this._onViewerStateChanged),this.resources.W.Commands.registerCommandListenerByName("WPreviewCommands.WEditModeChanged",this,this._onEditModeChanged)},executeAction:function(a){if(a.pageId&&this._getCurrentPageId()===a.pageId&&this._animations.isReady()&&"PREVIEW"===this.resources.W.Config.env.$editorMode){a.isPageTransitionEnd||this._resetPageTargetsToPlay();var b=this.getCurrentPageTargetsIds();this._populateSiteTargetsPlayData(b),this._populatePageTargetsToPlay(b,a),this._startAnimationEvents()}},_onPageTransitionComplete:function(a){a=a||{},a.isPageTransitionEnd=!0,this.executeAction(a)},_onPageTransitionStart:function(a){a=a||{},a.isPageTransitionEnd=!1,this.executeAction(a)}})}),define.experiment.Class("wysiwyg.viewer.managers.actions.base.BaseAction.AnimationPageTransitions",function(a,b){var c=a;c.methods({initialize:function(a,b){this._animations=a,this._behaviors={},this._viewingDevice=null,this._isPublic=this.resources.W.Config.env.$isPublicViewerFrame,this._isActive=!1,this._syncWithViewingDeviceChanges(b)},isActive:function(){return this._isActive},setActiveState:function(a){this._isActive=!!a},_syncWithViewingDeviceChanges:function(a){this._setViewingDeviceForBehaviors({viewerMode:a||this.resources.W.Config.env.$viewingDevice}),this.resources.W.Commands.registerCommandAndListener("WEditorCommands.SetViewerMode",this,this._setViewingDeviceForBehaviors),this.resources.W.Commands.registerCommandListenerByName("WPreviewCommands.ViewerStateChanged",this,this._setViewingDeviceForBehaviors)},setActionListeners:function(){},setInactiveActionListeners:function(){},executeAction:function(){}})}),define.experiment.Class("wysiwyg.viewer.managers.pages.MasterPageHandler.BackgroundPerPage",function(a,b){var c=a,d=b;c.methods({_attachPage:function(a){var b=this._getSiteStructureReferenceNode(),c=b.parentElement||document.body,d=a.rootCompNode||a;return this._insertAfter(d,c,b),this.resources.W.Config.isLoadedFromStatic()&&this._attachPageFarAwayIfNeeded(d),a},_insertAfter:function(a,b,c){b.insertBefore(a,c.nextSibling)},_getSiteStructureReferenceNode:function(){var a=$("bgNodes");if(!a){a=new Element("div",{id:"bgNodes",style:"position:relative; margin: 0 auto;"});var b=this._getSiteNode();b.insertBefore(a,b.firstChild)}return a},_getSiteParentNode:d.remove()})}),define.experiment.Class("wysiwyg.viewer.managers.pages.MasterPageHandler.ChangeWixifyOrder",function(a,b){var c=a,d=b;c.binds(d.merge(["_waitForPageReady","_addStructureIdToPageData"])),c.methods({initialize:function(a,b){this.parent("master",null,a,b);var c=Constants.ViewerTypesParams.DOM_ID_PREFIX[b],d=new this.imports.ComponentDomBuilder(c);this._structureDomBuilder=new this.imports.SiteStructureDomBuilder(c,d),this._pageStubDomBuilder=new this.imports.StubPageDomBuilder(c),this._compDomBuilder=this._structureDomBuilder,this._rootNode=$(this._structureDomBuilder.getStructureDomId())},loadMasterSignatureHtml:function(){return this._getPageData().then(this._addStructureIdToPageData).then(this._addComponentStuffToManagers).then(this._createPageStructure,this._onFailBeforeWixify)},wixifyMasterPage:function(a){return this._waitForPageReady(a).then(this._getSuccessInfo).fail(this._onFailToRenderPage)},_createPageStructure:function(a){this._logPageRender("startWixify"),this._pageReadyPromise=this._getPageWixifiedPromise();var b=this._getNodes(a);return b=this._addStaticNodesToStructure(b)},_waitForPageReady:function(a){return this._pageReadyPromise.thenResolve(a)},_onPageSignatureNodeCreated:function(a){this._attachPage(a),this.trigger("siteNodeCreated",{siteNode:a}),this._addWixAdsNode(),this._onSignatureNodeCreated(a)},_attachPage:function(a){var b=this._getSiteParentNode();b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a),this.resources.W.Config.isLoadedFromStatic()&&this._attachPageFarAwayIfNeeded(a)},_addStaticNodesToStructure:function(a){var a=this._createPagesStubs(a);return a.compNodes.push(this._wixAdsNode),a},_addWixAdsNode:function(a){if(!window.adData)return a;var b=document.getElementById("wixFooter"),c=W.Viewer.getNodeAdData();return!b&&c&&(b=new Element("div"),_.forOwn(c,function(a,c){b.setAttribute(c,a)
}),document.body.appendChild(b)),b&&!b.$logic&&(this._comps[b.get("id")]=!0,this._wixifyNode(b),this._wixAdsNode=b),a},_getPagesContainerNode:function(a){var b=a.querySelector("#"+this._structureDomBuilder.getPagesContainerDomId());return b.$logic?b.$logic.getInlineContentContainer():b},_fireSiteNodeCreated:d.remove()})}),define.experiment.Class("wysiwyg.viewer.managers.pages.PageHandler.AnimationPageTransitions",function(a,b){"use strict";var c=a,d=b;c.resources(d.merge(["W.Commands"])),c.methods({_collapsePage:function(a){this.resources.W.Commands.executeCommand("W.ViewerCommands.PageHandlerAttachPage",this,{pageNode:a}),this._waitingForRender||a.collapse()}})}),define.experiment.Class("wysiwyg.viewer.managers.pages.PageHandler.ChangeWixifyOrder",function(a,b){"use strict";var c=a,d=b;c.binds(["_getPageData","_createPageStructure","_addComponentStuffToManagers","_onFailBeforeWixify","_onFailToRenderPage","_getSuccessInfo","_onSignatureNodeCreated","_onPageSignatureNodeCreated"]),c.methods({loadPage:function(){return this.promise=this._getPageData().then(this._addComponentStuffToManagers).then(this._createPageStructure,this._onFailBeforeWixify).then(this._getSuccessInfo).fail(this._onFailToRenderPage),this.promise},_addComponentStuffToManagersRec:function(a,b){this._addCompAnchorsToLayout(a),this._addCompIdToMap(a),this._applyMethodOnChildren(a,b,this._addComponentStuffToManagersRec)},_addCompIdToMap:function(a){var b=this._compDomBuilder._getDomId_(a.id);this._comps[b]=!0},_createPageStructure:function(a){this._logPageRender("startWixify");var b=this._getPageWixifiedPromise(),c=this._getNodes(a);return b.thenResolve(c)},_getNodes:function(a){var b=a.structure,c=this._getChildrenPropertyName(),d=this._rootNode?this._rootNode.$domLevel:0;return this._compDomBuilder.createComponent(b,c,d,this._onSignatureNodeCreated,this._onPageSignatureNodeCreated)},_getPageWixifiedPromise:function(){var a=Q.defer();return this.on("allCompsWixifyDone",this,function(){this._logPageRender("ready"),a.resolve()}),a.promise},_onPageSignatureNodeCreated:function(a){a.setAttribute("width",this._pageCorrectWidth),this._attachPage(a),this._onSignatureNodeCreated(a)},_onSignatureNodeCreated:function(a){a.$pageId=this._pageId,this._wixifyNode(a)},_attachPage:function(a){this._rootNode.parentNode.replaceChild(a,this._rootNode),this._rootNode=a,this._collapsePage(a)},_wixifyNode:function(a){var b=a.get("id");a.on(this._getNodeWixifyFinishedEvent(),this,function(){this._onNodeWixifyDone(b)}),a.on(Constants.ComponentEvents.REQUESTING_TO_DIE,this,function(c){var d=c.data;this._addFailedComp(a,d.errorObj,d.messageToUserObj),this._onNodeWixifyDone(b)});try{a.wixify({isWaitingForRender:this._waitingForRender})}catch(c){this._addFailedComp(a,c),this._onNodeWixifyDone(a.get("id"))}},_writePageIdOnComponentNodes:d.remove(),_setCorrectWidthToPage:d.remove(),_wixifyNodes:d.remove(),_wixifyPage:d.remove()})}),define.experiment.Class("wysiwyg.viewer.managers.pages.PageHandler.NBC_RenderOnlyDisplayed",function(a,b){"use strict";var c=a,d=b;c.resources(d.merge(["W.Commands"])),c.methods({initialize:d.after(function(){this.resources.W.Commands.registerCommand("W.ViewerCommands.PageHandlerAttachPage",!0)}),_collapsePage:function(a){this.resources.W.Commands.executeCommand("W.ViewerCommands.PageHandlerAttachPage",this,{pageNode:a}),a.setStyle("opacity","0"),this._waitingForRender||a.collapse()},_wixifyNode:function(a){try{a.wixify({isWaitingForRender:this._waitingForRender})}catch(b){this._addFailedComp(a,b),this._onNodeWixifyDone(a.get("id"))}}})}),define.experiment.Class("wysiwyg.viewer.managers.pages.SiteStructureDomBuilder.ChangeWixifyOrder",function(a){var b=a;b.methods({createComponent:function(a,b,c,d,e){b=b||"children";var f=this._createViewNodeBase(this.STRUCTURE_COMP_ID,"wysiwyg.viewer.components.WSiteStructure","mobile.core.skins.InlineSkin",0);f.setAttribute("class","SITE_STRUCTURE"),e&&"function"==typeof e&&e(f);var g=this._compDomBuilder._createChildComponents(f,a,b,d);return g.push(f),{rootCompNode:f,compNodes:g}}})}),define.experiment.Class("wysiwyg.viewer.managers.pages.data.LocalDataResolver.EditorLoadPerPage",function(a,b){var c=a,d=b;c.methods({_getSerializedStructureForSingleView_:function(a){var b=this._getHomePageStructureForSingleView(a),c=this._getMasterStructureForSingleView(a),d=b&&c&&!_.isEmpty(c.children),e=null;return d&&(e={pages:b,masterPage:c}),e},_getHomePageStructureForSingleView:function(a){var b={},c=!1,d=this.getMainPageId(),e=this._pagesData[d]&&this._pagesData[d].structure||null;return e&&e[this.getPageComponentsPropertyName(a)]?(c=!0,b[d]=this._getPageStructureForSingleView(e,a,this.getPageComponentsPropertyName.bind(this))):b[d]=null,c?b:null},_getPagesStructuresForSingleView:d.remove()})}),define.experiment.Class("wysiwyg.viewer.managers.pages.data.LocalDataResolver.SiteSerializationRefactor",function(a,b){var c=a;c.methods({_preparePageData:function(){this._pageIds=_.map(this._siteData.pages,function(a){return a.structure.id}),this._siteData.masterPage=this._fixPageData(this._siteData.masterPage,_.clone(this._pageIds)),this._setData(this._siteData.masterPage.data)},getPageData:function(a){return Q(this._pagesData[a]||this._loadPageData(a))},_loadPageData:function(a){var b=_.find(this._siteData.pages,function(b){return b.structure.id===a});return b?(b=this._fixPageData(b),this._pagesData[a]=b,this._setData(b.data),b):null},getSerializedPageStructureSync:function(a,b){var c=this._loadPageData(b);if(!c)return null;var d=c.structure;return this._getPageStructureForSingleView(d,a,this.getPageComponentsPropertyName.bind(this))}})}),define.experiment.Class("wysiwyg.viewer.managers.pages.data.RemoteDataResolver.LoadPagesEarlier",function(a,b){var c=a,d=b;c.utilize(["deployment.PageLoadUtility"]),c.methods({initialize:function(a){this._pageLoader=new this.imports.PageLoadUtility,this.parent(a),this._pagesIdsToLoad=_.clone(this._pageIds),this._failedPagesIdsToLoad=[]},_preparePageData:function(){_.forEach(this._siteData.pageList.pages,function(a){this._pageIds.push(a.pageId),this._pageLoader.definePageResource(a.pageId,this._siteData.pageList)},this),this._pageLoader.definePageResource("master",this._siteData.pageList)},getPageData:function(a){var b;return b=this._pagesData[a]?Q(this._pagesData[a]):this._pageLoader.getPageDataPromise(a).then(this._onGetResourceSuccess.bind(this,a),this._onGetResourcesFailure.bind(this,a))},_onGetResourceSuccess:function(a,b){return this._handleGetPageResource(a),this._pagesData[a]=b,this._fixPageData(b),this._setData(b.data),b},_onGetResourcesFailure:function(a,b){throw LOG.reportError(wixErrors.ALL_PAGE_RETRIEVAL_ATTEMPTS_FAILED,"PageManager","loadPageById"),this._handleGetPageResource(a),this._failedPagesIdsToLoad.push(a),b},_handleGetPageResource:function(a){this._pagesIdsToLoad=_.without(this._pagesIdsToLoad,a)},_getResourceIdFromPageID:d.remove(),_isStaticPage:d.remove(),_getRequestMethod:d.remove(),_shouldLoadOnce:d.remove(),_logPageRender_:d.remove()})}),define.experiment.Class("wysiwyg.viewer.managers.viewer.HashChangeHandler.HashRefactor",function(a){var b=a;b.binds(["_onHashChange"]),b.resources(["W.Utils","W.Config","W.Commands","W.TPA","W.Data"]),b.methods({_onHashChange:function(a){if(a=a||{},this._viewer.isSiteReady()){var b=a.newHashObject?a.newHashObject.id:"",c="zoom"===b;c||W.Data.isDataAvailable("#"+b)||(a.newHashObject.id=this._viewer.getHomePageId()),a.silent?this._handleSilentHashChange(a.newHashObject,a):this._handleNormalHashChange(a.newHashObject,a)}},_handleSilentHashChange:function(a,b){b.isExtraDataChanged&&this._handleExtraDataChange(a.extData,!0)},_handleNormalHashChange:function(a,b){var c=a.id,d=this;b.isIdChanged&&c&&("zoom"===c&&(c=a.extData.split("/")[1]),W.Data.getDataByQuery("#"+c,function(a){d._onHashDataItemIdChange(c,a)}),b.isChangeFromSetHash||LOG.reportPageEvent(window.location.href)),b.isExtraDataChanged&&this._handleExtraDataChange(a.extData)},_handleExtraDataChange:function(a,b){if(this._zoomHandler.isZoomOpened())this._zoomHandler.showItemInOpenedZoom();else{var c=this._viewer.getCurrentPageId();c&&(b||this._viewer._activeViewer_._onPageExtraDataChange_(a,c),this._viewer.fireEvent("hashExtraDataChanged",{extData:a,pageId:c,silent:b}))}},_setUrlHashToPage:function(a,b){b=!!b;var c=this._viewer.getPageData(a.id);c&&(a.title=a.title||c.get("pageUriSEO"),this.resources.W.Utils.hash.setHash_new(a,b))}})}),define.experiment.Class("wysiwyg.common.managers.viewer.MobileViewHandler.ExitMobileMode.New",function(a){var b=a;b.methods({_resetViewPortTagAttributes:function(){this.setViewportAttribute("width",""),this.setViewportAttribute("initial-scale","1"),this.setViewportAttribute("user-scalable",""),this.setViewportAttribute("maximum-scale",""),this.setViewportAttribute("minimum-scale","")}})}),define.experiment.Class("wysiwyg.common.managers.viewer.MobileViewHandler.MobileActionsMenu",function(a,b){var c=a;c.utilize(["wysiwyg.viewer.utils.MobileQuickActionsHandler","wysiwyg.viewer.utils.MobileActionsMenuHandler"]),c.methods({handleQuickActions:function(){var a;window.WMobileActionsMenu.isInited()?(a=new this.imports.MobileActionsMenuHandler,a.handleMobileActionsMenu()):(a=new this.imports.MobileQuickActionsHandler,a.handleMobileQuickActions())},addRotationEventListener:function(){window.addEventListener("orientationchange",this._handleMobileRotation,!1),(window.WQuickActions||window.WMobileActionsMenu)&&window.addEventListener("orientationchange",this._showQuickActions,!1)},removeRotationEventListener:function(){window.removeEventListener("orientationchange",this._handleMobileRotation),(window.WQuickActions||window.WMobileActionsMenu)&&window.removeEventListener("orientationchange",this._showQuickActions)},_fixQuickActionsZoom:function(){(window.WQuickActions||window.WMobileActionsMenu)&&W.Viewer.addEvent("SiteReady",function(){_.delay(this._showQuickActions,100)}.bind(this))},_hideQuickActions:function(){window.WQuickActions?window.WQuickActions.hideBar():window.WMobileActionsMenu&&window.WMobileActionsMenu.forceCloseActionsMenu()},_showQuickActions:function(){setTimeout(function(){window.WQuickActions?(window.WQuickActions.showBar(),window.WQuickActions.fixZoom()):window.WMobileActionsMenu&&(window.WMobileActionsMenu.updateDisplay(),window.WMobileActionsMenu.openActionsMenu())},100)}})}),define.experiment.Class("wysiwyg.viewer.managers.viewer.SiteMembersHandler.HashRefactor",function(a){var b=a;b.methods({checkRequireLogin:function(a,b,c){var d=this.resources.W.Config.env.isInInteractiveViewer(),e=a.get("pageSecurity"),f=a.get("id"),g=this._getFallbackPage(f),h=!g;if(d&&e.requireLogin&&!this.injects().SiteMembers.isLoggedIn()&&!this._isProtectedPageValidated(f)){var i={id:f,title:a.get("pageUriSEO"),extData:""},j=this.resources.W.Utils.hash.getHashStringFromObject(i);this.injects().SiteMembers.openSiteMembersPopup({disableCancel:h,hashRedirectTo:"#"+j,cameFromHashChange:c,openedByPageSecurity:!0,authCallback:function(a){this._onAuthCallback(a,f,g,b)}.bind(this)})}else d&&e.passwordDigest&&!this._isProtectedPageValidated(f)?this.resources.W.Commands.executeCommand("WViewerCommands.PasswordLogin.Open",{args:{digestedPassword:e.passwordDigest,disableCancel:h,authCallback:function(a){this._onAuthCallback(a,f,g,b)}.bind(this)}}):b()},_onAuthCallback:function(a,b,c,d){if(a.authResponse)this._setPageValidated(b),d();else if(a.data&&a.data.cancel)if(c){var e={id:c,title:"",extData:""};this.resources.W.Utils.hash._setUrlHashToPage(e)}else location.reload()}})}),define.experiment.Class("wysiwyg.viewer.managers.viewer.SiteView.EditorLoadPerPage",function(a,b){var c=a,d=b;c.binds(d.merge(["_afterSiteReplacedStaticHtml"])),c.methods({initiateSite:function(){this._pageManager.addEvent(this._pageManager.EVENTS.SITE_LOADED,this.AfterSiteRendered);var a=this.resources.BrowserUtils.getQueryParams().keepstatic;this._keepStatic=a&&a[0]&&"true"===a[0],this._keepStatic||(this._logViewerRender("site starting to load"),this._pageManager.loadSite(!1))},_getMasterComponents:function(a,b){var c=a.getChildComponents();return _.forEach(c,function(a){var c=a.get("comp"),d=a.$logic;d&&!this._viewer.isPageComponent(c)&&(b.push(d),d.isContainer()&&this._getMasterComponents(d,b))}.bind(this)),b},getPageComponents:function(a){a=a||this.getCurrentPageId();var b=this.getCompByID(a).$logic;return b?b.getPageComponents():null}})}),define.experiment.Class("wysiwyg.viewer.managers.viewer.SiteView.HashRefactor",function(a,b){var c=a;c.methods({_onPageExtraDataChange_:function(a,b){var c=W.Data.getDataByQuery("#"+b),d=c.get("type");"Page"===d&&this._handleTPAExtraDataChange(c)}})}),define.experiment.Class("wysiwyg.viewer.managers.viewer.SiteView.NBC_RenderOnlyDisplayed",function(a,b){var c=a;c.methods({_onSiteReady:function(){if(this._logViewerRender("site ready"),this._isSiteReady=!0,this.resources.W.Config.mobileConfig.isMobile()&&this._scrollToHideMobileAddressBar(),W.Layout.attachSavedAnchors(),this.fireEvent("SiteReady",{viewerName:this._viewerName}),this._reportBIEvents(),this.resources.W.Config.env.$isEditorlessPreview){var a=this.resources.W.Commands.registerCommand("EditorCommands.SiteLoaded");a.execute()}this._fireScreenResizeEvent(),this.getSiteNode()&&this.getSiteNode().getLogic&&this.siteHeightChanged(),this.resources.W.Utils.callLater(this._notifySiteReadyForThumbnail),this.resources.W.Config.isLoadedFromStatic()&&(this._viewer._staticLoadingHandler_.addEvent(this._viewer._staticLoadingHandler_.EVENTS.SITE_REPLACED_STATIC_HTML,this._afterSiteReplacedStaticHtml),this._viewer._staticLoadingHandler_.replaceStaticHtmlWithActualSite())}})}),define.experiment.Class("wysiwyg.viewer.managers.viewer.ViewerCaptureHandler.BackgroundPerPage",function(a){var b=a;b.methods({_getObsoleteNodeIdsToRemove:function(){return["wixFooter","desktopBgNode"]}})}),define.experiment.Class("wysiwyg.viewer.managers.viewer.ViewerProxy.LandingPageSupport",function(a){a.methods({addEventPropagation:function(a){var b=this;this._eventHandlers[a]=function(c){b.fireEvent(a,c),b.trigger(a,c)},this._activeViewer_.addEvent(a,this._eventHandlers[a])}})}),define.experiment.Class("wysiwyg.viewer.managers.viewer.ViewerProxy.NBC_RenderOnlyDisplayed",function(a,b){a.methods({getHomePageId:b.remove()})}),define.experiment.Class("wysiwyg.viewer.managers.viewer.ViewerStaticLoadingHandler.BackgroundPerPage",function(a){var b=a;b.methods({_cleanupStaticElements:function(){this._removeFarAwayPage();var a=document.head.getChildren("[id^="+Constants.ViewerTypesParams.DOM_ID_STATIC_PREFIX+"]"),b=document.body.getChildren("[id^="+Constants.ViewerTypesParams.DOM_ID_STATIC_PREFIX+"]"),c=a.concat(b),d=[Constants.ViewerTypesParams.DOM_ID_STATIC_PREFIX+"mobile_bgNode",Constants.ViewerTypesParams.DOM_ID_STATIC_PREFIX+"mobileBgNode"];_.forEach(c,function(a){var b=a.getAttribute("id");_.contains(d,b)?a.setStyle("display","none"):a.parentNode.removeChild(a)}),this.fireEvent(this.EVENTS.SITE_REPLACED_STATIC_HTML)}})}),define.experiment.Class("wysiwyg.viewer.utils.MobileQuickActionsHandler.MobileActionsMenu",function(a,b){var c=a;c.methods({_createSingleNavItem:function(a,b,c){for(var d=this._navigateToPage,e=this._hideMenu,f=">  ",g="",h=0;c>h;h++)g+=f;var i=document.createElement("li"),j=b.get("refId");this._pagesMap[j]=i,i.innerHTML="<a href='#'></a>",a.appendChild(i),this.resources.W.Data.getDataByQuery(j,function(f){var h=f.get("mobileHidePage");if(h)a.removeChild(i);else{var k=f.get("title");i.firstChild.innerHTML=g+k;var l=b.get("items");l&&l.length>0&&this._createNavItemsFromDataItems(a,l,c+1,i),j&&0===j.indexOf("#")&&(j=j.substr(1)),i.addEventListener("click",function(a){e(),d(j),a.stopPropagation(),a.preventDefault()})}}.bind(this))}})});